{"name": "prefer-negative-index.js", "path": "rules/prefer-negative-index.js", "sha": "03212bf02ea771a8391f9434283eb8546b0e592f", "size": 3726, "url": "https://api.github.com/repos/sindresorhus/eslint-plugin-unicorn/contents/rules/prefer-negative-index.js?ref=main", "html_url": "https://github.com/sindresorhus/eslint-plugin-unicorn/blob/main/rules/prefer-negative-index.js", "git_url": "https://api.github.com/repos/sindresorhus/eslint-plugin-unicorn/git/blobs/03212bf02ea771a8391f9434283eb8546b0e592f", "download_url": "https://raw.githubusercontent.com/sindresorhus/eslint-plugin-unicorn/main/rules/prefer-negative-index.js", "type": "file", "content": "aW1wb3J0IHtnZXROZWdhdGl2ZUluZGV4TGVuZ3RoTm9kZSwgcmVtb3ZlTGVu\nZ3RoTm9kZX0gZnJvbSAnLi9zaGFyZWQvbmVnYXRpdmUtaW5kZXguanMnOwpp\nbXBvcnQgdHlwZWRBcnJheSBmcm9tICcuL3NoYXJlZC90eXBlZC1hcnJheS5q\ncyc7CmltcG9ydCB7aXNFbXB0eUFycmF5RXhwcmVzc2lvbiwgaXNMaXRlcmFs\nfSBmcm9tICcuL2FzdC9pbmRleC5qcyc7Cgpjb25zdCBNRVNTQUdFX0lEID0g\nJ3ByZWZlci1uZWdhdGl2ZS1pbmRleCc7CmNvbnN0IG1lc3NhZ2VzID0gewoJ\nW01FU1NBR0VfSURdOiAnUHJlZmVyIG5lZ2F0aXZlIGluZGV4IG92ZXIgbGVu\nZ3RoIG1pbnVzIGluZGV4IGZvciBge3ttZXRob2R9fWAuJywKfTsKCmNvbnN0\nIG1ldGhvZHMgPSBuZXcgTWFwKFsKCVsKCQknc2xpY2UnLAoJCXsKCQkJYXJn\ndW1lbnRzSW5kZXhlczogWzAsIDFdLAoJCQlzdXBwb3J0T2JqZWN0czogbmV3\nIFNldChbCgkJCQknQXJyYXknLAoJCQkJJ1N0cmluZycsCgkJCQknQXJyYXlC\ndWZmZXInLAoJCQkJLi4udHlwZWRBcnJheSwKCQkJCS8vIGB7QmxvYixGaWxl\nfSNzbGljZSgpYCBhcmUgbm90IGdlbmVyYWxseSB1c2VkCgkJCQkvLyAnQmxv\nYicKCQkJCS8vICdGaWxlJwoJCQldKSwKCQl9LAoJXSwKCVsKCQknc3ViYXJy\nYXknLAoJCXsKCQkJYXJndW1lbnRzSW5kZXhlczogWzAsIDFdLAoJCQlzdXBw\nb3J0T2JqZWN0czogbmV3IFNldCh0eXBlZEFycmF5KSwKCQl9LAoJXSwKCVsK\nCQknc3BsaWNlJywKCQl7CgkJCWFyZ3VtZW50c0luZGV4ZXM6IFswXSwKCQkJ\nc3VwcG9ydE9iamVjdHM6IG5ldyBTZXQoWwoJCQkJJ0FycmF5JywKCQkJXSks\nCgkJfSwKCV0sCglbCgkJJ3RvU3BsaWNlZCcsCgkJewoJCQlhcmd1bWVudHNJ\nbmRleGVzOiBbMF0sCgkJCXN1cHBvcnRPYmplY3RzOiBuZXcgU2V0KFsKCQkJ\nCSdBcnJheScsCgkJCV0pLAoJCX0sCgldLAoJWwoJCSdhdCcsCgkJewoJCQlh\ncmd1bWVudHNJbmRleGVzOiBbMF0sCgkJCXN1cHBvcnRPYmplY3RzOiBuZXcg\nU2V0KFsKCQkJCSdBcnJheScsCgkJCQknU3RyaW5nJywKCQkJCS4uLnR5cGVk\nQXJyYXksCgkJCV0pLAoJCX0sCgldLAoJWwoJCSd3aXRoJywKCQl7CgkJCWFy\nZ3VtZW50c0luZGV4ZXM6IFswXSwKCQkJc3VwcG9ydE9iamVjdHM6IG5ldyBT\nZXQoWwoJCQkJJ0FycmF5JywKCQkJCS4uLnR5cGVkQXJyYXksCgkJCV0pLAoJ\nCX0sCgldLApdKTsKCmNvbnN0IGdldE1lbWJlck5hbWUgPSBub2RlID0+IHsK\nCWNvbnN0IHt0eXBlLCBwcm9wZXJ0eX0gPSBub2RlOwoKCWlmICgKCQl0eXBl\nID09PSAnTWVtYmVyRXhwcmVzc2lvbicKCQkmJiBwcm9wZXJ0eS50eXBlID09\nPSAnSWRlbnRpZmllcicKCSkgewoJCXJldHVybiBwcm9wZXJ0eS5uYW1lOwoJ\nfQp9OwoKZnVuY3Rpb24gcGFyc2Uobm9kZSkgewoJY29uc3Qge2NhbGxlZSwg\nYXJndW1lbnRzOiBvcmlnaW5hbEFyZ3VtZW50c30gPSBub2RlOwoKCWxldCBt\nZXRob2QgPSBjYWxsZWUucHJvcGVydHkubmFtZTsKCWxldCB0YXJnZXQgPSBj\nYWxsZWUub2JqZWN0OwoJbGV0IGFyZ3VtZW50c05vZGVzID0gb3JpZ2luYWxB\ncmd1bWVudHM7CgoJaWYgKG1ldGhvZHMuaGFzKG1ldGhvZCkpIHsKCQlyZXR1\ncm4gewoJCQltZXRob2QsCgkJCXRhcmdldCwKCQkJYXJndW1lbnRzTm9kZXMs\nCgkJfTsKCX0KCglpZiAobWV0aG9kICE9PSAnY2FsbCcgJiYgbWV0aG9kICE9\nPSAnYXBwbHknKSB7CgkJcmV0dXJuOwoJfQoKCWNvbnN0IGlzQXBwbHkgPSBt\nZXRob2QgPT09ICdhcHBseSc7CgoJbWV0aG9kID0gZ2V0TWVtYmVyTmFtZShj\nYWxsZWUub2JqZWN0KTsKCglpZiAoIW1ldGhvZHMuaGFzKG1ldGhvZCkpIHsK\nCQlyZXR1cm47Cgl9CgoJY29uc3Qge3N1cHBvcnRPYmplY3RzfSA9IG1ldGhv\nZHMuZ2V0KG1ldGhvZCk7CgoJY29uc3QgcGFyZW50Q2FsbGVlID0gY2FsbGVl\nLm9iamVjdC5vYmplY3Q7CgoJaWYgKAoJCS8vIGBbXS57c2xpY2Usc3BsaWNl\nLHRvU3BsaWNlZCxhdCx3aXRofWAKCQlpc0VtcHR5QXJyYXlFeHByZXNzaW9u\nKHBhcmVudENhbGxlZSkKCQkvLyBgJycuc2xpY2VgCgkJfHwgKAoJCQltZXRo\nb2QgPT09ICdzbGljZScKCQkJJiYgaXNMaXRlcmFsKHBhcmVudENhbGxlZSwg\nJycpCgkJKQoJCS8vIHtBcnJheSxTdHJpbmcuLi59LnByb3RvdHlwZS5zbGlj\nZQoJCS8vIEFycmF5LnByb3RvdHlwZS5zcGxpY2UKCQl8fCAoCgkJCWdldE1l\nbWJlck5hbWUocGFyZW50Q2FsbGVlKSA9PT0gJ3Byb3RvdHlwZScKCQkJJiYg\ncGFyZW50Q2FsbGVlLm9iamVjdC50eXBlID09PSAnSWRlbnRpZmllcicKCQkJ\nJiYgc3VwcG9ydE9iamVjdHMuaGFzKHBhcmVudENhbGxlZS5vYmplY3QubmFt\nZSkKCQkpCgkpIHsKCQlbdGFyZ2V0XSA9IG9yaWdpbmFsQXJndW1lbnRzOwoK\nCQlpZiAoaXNBcHBseSkgewoJCQljb25zdCBbLCBzZWNvbmRBcmd1bWVudF0g\nPSBvcmlnaW5hbEFyZ3VtZW50czsKCQkJaWYgKCFzZWNvbmRBcmd1bWVudCB8\nfCBzZWNvbmRBcmd1bWVudC50eXBlICE9PSAnQXJyYXlFeHByZXNzaW9uJykg\newoJCQkJcmV0dXJuOwoJCQl9CgoJCQlhcmd1bWVudHNOb2RlcyA9IHNlY29u\nZEFyZ3VtZW50LmVsZW1lbnRzOwoJCX0gZWxzZSB7CgkJCWFyZ3VtZW50c05v\nZGVzID0gb3JpZ2luYWxBcmd1bWVudHMuc2xpY2UoMSk7CgkJfQoKCQlyZXR1\ncm4gewoJCQltZXRob2QsCgkJCXRhcmdldCwKCQkJYXJndW1lbnRzTm9kZXMs\nCgkJfTsKCX0KfQoKLyoqIEBwYXJhbSB7aW1wb3J0KCdlc2xpbnQnKS5SdWxl\nLlJ1bGVDb250ZXh0fSBjb250ZXh0ICovCmNvbnN0IGNyZWF0ZSA9IGNvbnRl\neHQgPT4gewoJY29udGV4dC5vbignQ2FsbEV4cHJlc3Npb24nLCBub2RlID0+\nIHsKCQlpZiAobm9kZS5jYWxsZWUudHlwZSAhPT0gJ01lbWJlckV4cHJlc3Np\nb24nKSB7CgkJCXJldHVybjsKCQl9CgoJCWNvbnN0IHBhcnNlZCA9IHBhcnNl\nKG5vZGUpOwoKCQlpZiAoIXBhcnNlZCkgewoJCQlyZXR1cm47CgkJfQoKCQlj\nb25zdCB7CgkJCW1ldGhvZCwKCQkJdGFyZ2V0LAoJCQlhcmd1bWVudHNOb2Rl\ncywKCQl9ID0gcGFyc2VkOwoKCQljb25zdCB7YXJndW1lbnRzSW5kZXhlc30g\nPSBtZXRob2RzLmdldChtZXRob2QpOwoJCWNvbnN0IHJlbW92YWJsZU5vZGVz\nID0gYXJndW1lbnRzSW5kZXhlcwoJCQkubWFwKGluZGV4ID0+IGdldE5lZ2F0\naXZlSW5kZXhMZW5ndGhOb2RlKGFyZ3VtZW50c05vZGVzW2luZGV4XSwgdGFy\nZ2V0KSkKCQkJLmZpbHRlcihCb29sZWFuKTsKCgkJaWYgKHJlbW92YWJsZU5v\nZGVzLmxlbmd0aCA9PT0gMCkgewoJCQlyZXR1cm47CgkJfQoKCQlyZXR1cm4g\newoJCQlub2RlLAoJCQltZXNzYWdlSWQ6IE1FU1NBR0VfSUQsCgkJCWRhdGE6\nIHttZXRob2R9LAoJCQkqIGZpeChmaXhlcikgewoJCQkJZm9yIChjb25zdCBu\nb2RlIG9mIHJlbW92YWJsZU5vZGVzKSB7CgkJCQkJeWllbGQgcmVtb3ZlTGVu\nZ3RoTm9kZShub2RlLCBmaXhlciwgY29udGV4dCk7CgkJCQl9CgkJCX0sCgkJ\nfTsKCX0pOwp9OwoKLyoqIEB0eXBlIHtpbXBvcnQoJ2VzbGludCcpLlJ1bGUu\nUnVsZU1vZHVsZX0gKi8KY29uc3QgY29uZmlnID0gewoJY3JlYXRlLAoJbWV0\nYTogewoJCXR5cGU6ICdzdWdnZXN0aW9uJywKCQlkb2NzOiB7CgkJCWRlc2Ny\naXB0aW9uOiAnUHJlZmVyIG5lZ2F0aXZlIGluZGV4IG92ZXIgYC5sZW5ndGgg\nLSBpbmRleGAgd2hlbiBwb3NzaWJsZS4nLAoJCQlyZWNvbW1lbmRlZDogJ3Vu\nb3BpbmlvbmF0ZWQnLAoJCX0sCgkJZml4YWJsZTogJ2NvZGUnLAoJCW1lc3Nh\nZ2VzLAoJfSwKfTsKCmV4cG9ydCBkZWZhdWx0IGNvbmZpZzsK\n", "encoding": "base64", "_links": {"self": "https://api.github.com/repos/sindresorhus/eslint-plugin-unicorn/contents/rules/prefer-negative-index.js?ref=main", "git": "https://api.github.com/repos/sindresorhus/eslint-plugin-unicorn/git/blobs/03212bf02ea771a8391f9434283eb8546b0e592f", "html": "https://github.com/sindresorhus/eslint-plugin-unicorn/blob/main/rules/prefer-negative-index.js"}}