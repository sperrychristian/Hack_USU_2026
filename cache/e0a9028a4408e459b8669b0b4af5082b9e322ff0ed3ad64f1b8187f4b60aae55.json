{"name": "visualize.py", "path": "visualize.py", "sha": "e920b0d1861df3f6c91858681abb9be812042e05", "size": 22648, "url": "https://api.github.com/repos/torvalds/AudioNoise/contents/visualize.py?ref=main", "html_url": "https://github.com/torvalds/AudioNoise/blob/main/visualize.py", "git_url": "https://api.github.com/repos/torvalds/AudioNoise/git/blobs/e920b0d1861df3f6c91858681abb9be812042e05", "download_url": "https://raw.githubusercontent.com/torvalds/AudioNoise/main/visualize.py", "type": "file", "content": "aW1wb3J0IHN5cwppbXBvcnQgbnVtcHkgYXMgbnAKaW1wb3J0IG1hdHBsb3Rs\naWIucHlwbG90IGFzIHBsdAppbXBvcnQgbWF0cGxvdGxpYi50aWNrZXIgYXMg\ndGlja2VyCmZyb20gbWF0cGxvdGxpYi53aWRnZXRzIGltcG9ydCBSYW5nZVNs\naWRlciwgUmVjdGFuZ2xlU2VsZWN0b3IsIFJhZGlvQnV0dG9ucwoKaW1wb3J0\nIG9zCmltcG9ydCBhcmdwYXJzZQoKIyAtLS0gQ29uc3RhbnRzIC0tLQpJTklU\nSUFMX1dJTkRPV19TRUMgPSAzNjAwLjAKQllURVNfUEVSX1NBTVBMRSA9IDQK\nIyBNQVhfV0lEVEhfU0VDIHJlbW92ZWQsIHV0aWxpemluZyBzZWxmLm1heF9z\nYW1wbGVzIGluc3RlYWQKTUFYX1BMT1RfUE9JTlRTID0gNTAwMCAgICMgTWF4\naW11bSBwb2ludHMgdG8gcGxvdCBwZXIgbGluZQoKY2xhc3MgV2F2ZWZvcm1W\naXN1YWxpemVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGZpbGVuYW1lcywg\ncmF0ZSwgbWluX3pvb21fc2FtcGxlcz0xMDApOgogICAgICAgIHNlbGYucmF0\nZSA9IHJhdGUKICAgICAgICBzZWxmLm5hdmlnYXRpbmcgPSBGYWxzZQogICAg\nICAgIHNlbGYuZmlsZW5hbWVzID0gZmlsZW5hbWVzCiAgICAgICAgc2VsZi5t\naW5fem9vbV9zYW1wbGVzID0gbWluX3pvb21fc2FtcGxlcwoKICAgICAgICAj\nIFgtQXhpcyBNb2RlCiAgICAgICAgc2VsZi54X21vZGUgPSAnVGltZScKCiAg\nICAgICAgc2VsZi5tYXBwZWRfZmlsZXMgPSBbXQogICAgICAgIHNlbGYubGlu\nZXMgPSBbXQogICAgICAgIHNlbGYubWF4X3NhbXBsZXMgPSAwCgogICAgICAg\nICMgTG9hZCBmaWxlcwogICAgICAgIGZvciBmIGluIGZpbGVuYW1lczoKICAg\nICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZnNpemUgPSBvcy5wYXRo\nLmdldHNpemUoZikKICAgICAgICAgICAgICAgIHNhbXBsZXMgPSBmc2l6ZSAv\nLyBCWVRFU19QRVJfU0FNUExFCiAgICAgICAgICAgICAgICBtbSA9IG5wLm1l\nbW1hcChmLCBkdHlwZT1ucC5pbnQzMiwgbW9kZT0ncicsIHNoYXBlPShzYW1w\nbGVzLCkpCiAgICAgICAgICAgICAgICBzZWxmLm1hcHBlZF9maWxlcy5hcHBl\nbmQoKG1tLCBvcy5wYXRoLmJhc2VuYW1lKGYpKSkKICAgICAgICAgICAgICAg\nIHNlbGYubWF4X3NhbXBsZXMgPSBtYXgoc2VsZi5tYXhfc2FtcGxlcywgc2Ft\ncGxlcykKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAg\nICAgICAgICAgICAgcHJpbnQoZiJFcnJvciBvcGVuaW5nIHtmfToge2V9IikK\nCiAgICAgICAgaWYgbm90IHNlbGYubWFwcGVkX2ZpbGVzOgogICAgICAgICAg\nICByZXR1cm4KCiAgICAgICAgIyBQcmUtYWxsb2NhdGUgWC1heGlzIGJ1ZmZl\nciB0byBhdm9pZCBhbGxvY2F0aW9ucyBkdXJpbmcgcGxvdCB1cGRhdGVzCgog\nICAgICAgIHNlbGYudF9idWZmZXIgPSBucC56ZXJvcyhNQVhfUExPVF9QT0lO\nVFMsIGR0eXBlPW5wLmZsb2F0NjQpCiAgICAgICAgIyBQcmUtYWxsb2NhdGUg\naW5kZXggYnVmZmVyIDAuLk4tMQogICAgICAgIHNlbGYuaW5kZXhfYnVmZmVy\nID0gbnAuYXJhbmdlKE1BWF9QTE9UX1BPSU5UUywgZHR5cGU9bnAuZmxvYXQ2\nNCkKCiAgICAgICAgc2VsZi5zZXR1cF91aSgpCgogICAgZGVmIHNldHVwX3Vp\nKHNlbGYpOgogICAgICAgIHNlbGYuZmlnLCBzZWxmLmF4ID0gcGx0LnN1YnBs\nb3RzKGZpZ3NpemU9KDEyLCA2KSkKICAgICAgICAjIE1hbnVhbCAidGlnaHQg\nbGF5b3V0IiB0byBtYXhpbWl6ZSBzcGFjZSBidXQga2VlcCByb29tIGZvciBz\nbGlkZXIKICAgICAgICBwbHQuc3VicGxvdHNfYWRqdXN0KGxlZnQ9MC4wOCwg\ncmlnaHQ9MC45NSwgdG9wPTAuOTUsIGJvdHRvbT0wLjIwKQoKICAgICAgICAj\nIENyZWF0ZSBsaW5lIG9iamVjdHMKICAgICAgICBmb3IgXywgbmFtZSBpbiBz\nZWxmLm1hcHBlZF9maWxlczoKICAgICAgICAgICAgbGluZSwgPSBzZWxmLmF4\nLnBsb3QoW10sIFtdLCBsaW5ld2lkdGg9MC44LCBsYWJlbD1uYW1lKQogICAg\nICAgICAgICBzZWxmLmxpbmVzLmFwcGVuZChsaW5lKQoKICAgICAgICBzZWxm\nLmF4LmdyaWQoVHJ1ZSwgd2hpY2g9J2JvdGgnLCBsaW5lc3R5bGU9JzonLCBh\nbHBoYT0wLjUpCiAgICAgICAgc2VsZi5heC5zZXRfeGxhYmVsKCJUaW1lIChz\nKSIpCiAgICAgICAgc2VsZi5heC5zZXRfeWxhYmVsKCJBbXBsaXR1ZGUiKQog\nICAgICAgIHNlbGYuYXgubGVnZW5kKGxvYz0ndXBwZXIgcmlnaHQnLCBmb250\nc2l6ZT0neC1zbWFsbCcpCgogICAgICAgICMgLS0tIFgtQXhpcyBGb3JtYXR0\nZXIgLS0tCiAgICAgICAgZGVmIHhfZm10KHgsIHBvcyk6CiAgICAgICAgICAg\nIGlmIHNlbGYueF9tb2RlID09ICdTYW1wbGVzJzoKICAgICAgICAgICAgICAg\nIHJldHVybiBmIntpbnQoeCl9IgogICAgICAgICAgICAjIFRpbWUgbW9kZQog\nICAgICAgICAgICB0ID0geCAvIHNlbGYucmF0ZQogICAgICAgICAgICByZXR1\ncm4gZiJ7dDouM2Z9IgoKICAgICAgICBzZWxmLmF4LnhheGlzLnNldF9tYWpv\ncl9mb3JtYXR0ZXIodGlja2VyLkZ1bmNGb3JtYXR0ZXIoeF9mbXQpKQoKICAg\nICAgICAjIC0tLSBZLUF4aXMgRm9ybWF0dGVyIC0tLQogICAgICAgIHNlbGYu\neV9tb2RlID0gJ1ZvbHQnCiAgICAgICAgZGVmIHlfZm10KHgsIHBvcyk6CiAg\nICAgICAgICAgIGlmIHNlbGYueV9tb2RlID09ICdSYXcnOgogICAgICAgICAg\nICAgICAgdmFsID0gbnAudWludDMyKHgpCiAgICAgICAgICAgICAgICByZXR1\ncm4gZiJ7dmFsOjA5X1h9IgogICAgICAgICAgICAjIERvICJFbmdpbmVlcmlu\nZyBtb2RlIiBieSBoYW5kCiAgICAgICAgICAgIHggPSB4IC8gMjE0NzQ4MzY0\nOAogICAgICAgICAgICBzdWZmaXgsIG1pbGxpID0gIiIsICLhtIctMyIKICAg\nICAgICAgICAgaWYgc2VsZi55X21vZGUgPT0gJ1ZvbHQnOgogICAgICAgICAg\nICAgICAgIyBBc3N1bWluZyAxVnJtcyBmdWxsLXJhbmdlIHNpZ25hbAogICAg\nICAgICAgICAgICAgeCA9IHggKiAxLjQxNDIKICAgICAgICAgICAgICAgIHN1\nZmZpeCwgbWlsbGkgPSAiViIsICJtViIKICAgICAgICAgICAgaWYgeCA9PSAw\nOgogICAgICAgICAgICAgICAgcmV0dXJuICIwIitzdWZmaXgKICAgICAgICAg\nICAgaWYgYWJzKHgpIDwgMC4xOgogICAgICAgICAgICAgICAgeCA9IHgqMTAw\nMAogICAgICAgICAgICAgICAgc3VmZml4ID0gbWlsbGkKICAgICAgICAgICAg\ncmV0dXJuIGYie3g6LjJmfSIrc3VmZml4CgogICAgICAgIHNlbGYuYXgueWF4\naXMuc2V0X21ham9yX2Zvcm1hdHRlcih0aWNrZXIuRnVuY0Zvcm1hdHRlcih5\nX2ZtdCkpCgogICAgICAgICMgUmFuZ2VTbGlkZXIgc2V0dXAKICAgICAgICBh\neF9zbGlkZXIgPSBwbHQuYXhlcyhbMC4xNSwgMC4wNSwgMC41MCwgMC4wM10p\nCiAgICAgICAgIyBEZWZhdWx0IEluaXQgaW4gU2FtcGxlcyAod2lsbCBiZSBy\nZXNldCBieSBzZXRfeF9tb2RlKQogICAgICAgIHNlbGYuc2xpZGVyID0gUmFu\nZ2VTbGlkZXIoYXhfc2xpZGVyLCAnUG9zJywgMCwgc2VsZi5tYXhfc2FtcGxl\ncywgdmFsaW5pdD0oMCwgSU5JVElBTF9XSU5ET1dfU0VDICogc2VsZi5yYXRl\nKSkKCiAgICAgICAgIyBSZS1wb3NpdGlvbiB0aGUgdmFsdWUgdGV4dCB0byBi\nZSBiZWxvdyB0aGUgc2xpZGVyCiAgICAgICAgc2VsZi5zbGlkZXIudmFsdGV4\ndC5zZXRfeSgtMSkKICAgICAgICBzZWxmLnNsaWRlci52YWx0ZXh0LnNldF9o\nb3Jpem9udGFsYWxpZ25tZW50KCdjZW50ZXInKQogICAgICAgIHNlbGYuc2xp\nZGVyLnZhbHRleHQuc2V0X3Bvc2l0aW9uKCgwLjUsIC0xKSkKCiAgICAgICAg\nc2VsZi5zbGlkZXIub25fY2hhbmdlZChzZWxmLnVwZGF0ZV9zbGlkZXIpCgog\nICAgICAgICMgUmFkaW9CdXR0b25zIGZvciBYLWF4aXMgTW9kZQogICAgICAg\nIGF4X3JhZGlvX3ggPSBwbHQuYXhlcyhbMC43MCwgMC4wNSwgMC4xMiwgMC4x\nMF0pCiAgICAgICAgc2VsZi5yYWRpb194ID0gUmFkaW9CdXR0b25zKGF4X3Jh\nZGlvX3gsICgnVGltZScsICdTYW1wbGVzJyksIGFjdGl2ZT0wKQoKICAgICAg\nICBkZWYgc2V0X3hfbW9kZShsYWJlbCk6CiAgICAgICAgICAgIHNlbGYueF9t\nb2RlID0gbGFiZWwKICAgICAgICAgICAgc2VsZi5heC54YXhpcy5zZXRfbWFq\nb3JfZm9ybWF0dGVyKHRpY2tlci5GdW5jRm9ybWF0dGVyKHhfZm10KSkKCiAg\nICAgICAgICAgICMgVXBkYXRlIFNsaWRlciBWaWV3CiAgICAgICAgICAgICMg\nQ2hlY2sgaWYgc2xpZGVyLnZhbCBpcyB0dXBsZSBvciBhcnJheQogICAgICAg\nICAgICB2YWwgPSBzZWxmLnNsaWRlci52YWwKICAgICAgICAgICAgY3VycmVu\ndF9zdGFydCA9IHZhbFswXQogICAgICAgICAgICBjdXJyZW50X2VuZCA9IHZh\nbFsxXQoKICAgICAgICAgICAgIyBBbHRlcm5hdGl2ZTogcmVhZCBhY3R1YWwg\ncGxvdCBsaW1pdHMgKHNhZmVyKQogICAgICAgICAgICB4bGltID0gc2VsZi5h\neC5nZXRfeGxpbSgpCiAgICAgICAgICAgIGN1cnJlbnRfc3RhcnRfc2FtcGxl\nID0geGxpbVswXQogICAgICAgICAgICBjdXJyZW50X2VuZF9zYW1wbGUgPSB4\nbGltWzFdCgogICAgICAgICAgICBtYXggPSBzZWxmLm1heF9zYW1wbGVzCiAg\nICAgICAgICAgIGlmIHNlbGYueF9tb2RlID09ICdUaW1lJzoKICAgICAgICAg\nICAgICAgICMgU3dpdGNoaW5nIFRPIFRpbWUKICAgICAgICAgICAgICAgIG1h\neCwgc3VmZml4ID0gbWF4IC8gc2VsZi5yYXRlLCAicyIKCiAgICAgICAgICAg\nICAgICAjIFJlY29uZmlndXJlIHNsaWRlciBmb3IgU2Vjb25kcwogICAgICAg\nICAgICAgICAgc2VsZi5zbGlkZXIudmFsbWluID0gMC4wCiAgICAgICAgICAg\nICAgICBzZWxmLnNsaWRlci52YWxtYXggPSBtYXgKICAgICAgICAgICAgICAg\nICMgUmFuZ2VTbGlkZXIgZG9lc24ndCBzdXBwb3J0IHZhbGZtdCBkaXJlY3Rs\neSBmb3IgdHdvIHZhbHVlcyBpbiB0eXBpY2FsIEFQSSwKICAgICAgICAgICAg\nICAgICMgYnV0IHdlIGNhbiB0cnkgdG8gdXBkYXRlIGF4ZXMgaWYgbmVlZGVk\nLiBzdGFuZGFyZCBSYW5nZVNsaWRlciBkb2Vzbid0IHNob3cgdGV4dCB2YWx1\nZS4KCiAgICAgICAgICAgICAgICBuZXdfc3RhcnQgPSBjdXJyZW50X3N0YXJ0\nX3NhbXBsZSAvIHNlbGYucmF0ZQogICAgICAgICAgICAgICAgbmV3X2VuZCA9\nIGN1cnJlbnRfZW5kX3NhbXBsZSAvIHNlbGYucmF0ZQogICAgICAgICAgICBl\nbHNlOgogICAgICAgICAgICAgICAgIyBTd2l0Y2hpbmcgVE8gU2FtcGxlcwog\nICAgICAgICAgICAgICAgbWF4LCBzdWZmaXggPSBtYXggLyAxMDAwLCAia1Nh\nbXBsZXMiCiAgICAgICAgICAgICAgICBpZiBtYXggPiAxMDAwMDoKICAgICAg\nICAgICAgICAgICAgICAgICAgbWF4LCBzdWZmaXggPSBtYXggLyAxMDAwLCAi\nTVNhbXBsZXMiCgogICAgICAgICAgICAgICAgIyBSZWNvbmZpZ3VyZSBzbGlk\nZXIgZm9yIFNhbXBsZXMKICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVyLnZh\nbG1pbiA9IDAKICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVyLnZhbG1heCA9\nIHNlbGYubWF4X3NhbXBsZXMKCiAgICAgICAgICAgICAgICBuZXdfc3RhcnQg\nPSBjdXJyZW50X3N0YXJ0X3NhbXBsZQogICAgICAgICAgICAgICAgbmV3X2Vu\nZCA9IGN1cnJlbnRfZW5kX3NhbXBsZQoKICAgICAgICAgICAgc2VsZi5zbGlk\nZXIubGFiZWwuc2V0X3RleHQoZiIoe21heDouMWZ9IHtzdWZmaXh9KSIpCgog\nICAgICAgICAgICAjIFJlc2V0IHNsaWRlciBheGlzIGxpbWl0cwogICAgICAg\nICAgICBzZWxmLnNsaWRlci5heC5zZXRfeGxpbShzZWxmLnNsaWRlci52YWxt\naW4sIHNlbGYuc2xpZGVyLnZhbG1heCkKCiAgICAgICAgICAgIG9sZF9ldmVu\ndHNvbiA9IHNlbGYuc2xpZGVyLmV2ZW50c29uCiAgICAgICAgICAgIHNlbGYu\nc2xpZGVyLmV2ZW50c29uID0gRmFsc2UKICAgICAgICAgICAgc2VsZi5zbGlk\nZXIuc2V0X3ZhbCgobmV3X3N0YXJ0LCBuZXdfZW5kKSkKICAgICAgICAgICAg\nc2VsZi5zbGlkZXIuZXZlbnRzb24gPSBvbGRfZXZlbnRzb24KCiAgICAgICAg\nICAgICMgTWFudWFsbHkgdHJpZ2dlciB0ZXh0IHVwZGF0ZSAoc2luY2UgZXZl\nbnRzb249RmFsc2UpCiAgICAgICAgICAgIHNlbGYudXBkYXRlX3NsaWRlcl90\nZXh0KChuZXdfc3RhcnQsIG5ld19lbmQpKQoKICAgICAgICAgICAgc2VsZi5m\naWcuY2FudmFzLmRyYXdfaWRsZSgpCgogICAgICAgIHNlbGYucmFkaW9feC5v\nbl9jbGlja2VkKHNldF94X21vZGUpCgogICAgICAgICMgVHJpZ2dlciBkZWZh\ndWx0IG1vZGUgc2V0dXAKICAgICAgICBzZXRfeF9tb2RlKCdUaW1lJykKCiAg\nICAgICAgIyBSYWRpb0J1dHRvbnMgZm9yIFktYXhpcyBNb2RlCiAgICAgICAg\nYXhfcmFkaW9feSA9IHBsdC5heGVzKFswLjg1LCAwLjA1LCAwLjEyLCAwLjEw\nXSkKICAgICAgICBzZWxmLnJhZGlvID0gUmFkaW9CdXR0b25zKGF4X3JhZGlv\nX3ksICgnUmF3JywgJ1NjYWxlZCcsICdWb2x0JyksIGFjdGl2ZT0yKQoKICAg\nICAgICBkZWYgc2V0X3lfbW9kZShsYWJlbCk6CiAgICAgICAgICAgIHNlbGYu\neV9tb2RlID0gbGFiZWwKICAgICAgICAgICAgc2VsZi5heC55YXhpcy5zZXRf\nbWFqb3JfZm9ybWF0dGVyKHRpY2tlci5GdW5jRm9ybWF0dGVyKHlfZm10KSkK\nCiAgICAgICAgICAgICMgVXBkYXRlIGxhYmVscwogICAgICAgICAgICBpZiBs\nYWJlbCA9PSAnUmF3JzoKICAgICAgICAgICAgICAgICBzZWxmLmF4LnNldF95\nbGFiZWwoIkFtcGxpdHVkZSAoUmF3KSIpCiAgICAgICAgICAgIGVsaWYgbGFi\nZWwgPT0gJ1NjYWxlZCc6CiAgICAgICAgICAgICAgICAgc2VsZi5heC5zZXRf\neWxhYmVsKCJBbXBsaXR1ZGUgKE5vcm1hbGl6ZWQpIikKICAgICAgICAgICAg\nZWxpZiBsYWJlbCA9PSAnVm9sdCc6CiAgICAgICAgICAgICAgICAgc2VsZi5h\neC5zZXRfeWxhYmVsKCJBbXBsaXR1ZGUgKFZvbHRzKSIpCgogICAgICAgICAg\nICBzZWxmLmZpZy5jYW52YXMuZHJhd19pZGxlKCkKCiAgICAgICAgc2VsZi5y\nYWRpby5vbl9jbGlja2VkKHNldF95X21vZGUpCgogICAgICAgICMgU2Nyb2xs\nIFpvb20gc2V0dXAKICAgICAgICBzZWxmLmZpZy5jYW52YXMubXBsX2Nvbm5l\nY3QoJ3Njcm9sbF9ldmVudCcsIHNlbGYub25fc2Nyb2xsKQogICAgICAgIHNl\nbGYuZmlnLmNhbnZhcy5tcGxfY29ubmVjdCgna2V5X3ByZXNzX2V2ZW50Jywg\nc2VsZi5vbl9rZXkpCiAgICAgICAgc2VsZi5heC5jYWxsYmFja3MuY29ubmVj\ndCgneGxpbV9jaGFuZ2VkJywgc2VsZi5vbl94bGltX2NoYW5nZWQpCgogICAg\nICAgICMgQ3VzdG9tIFJlY3RhbmdsZSBTZWxlY3RvcgogICAgICAgIHNlbGYu\ncnMgPSBSZWN0YW5nbGVTZWxlY3RvcigKICAgICAgICAgICAgc2VsZi5heCwg\nc2VsZi5vbl9zZWxlY3QsCiAgICAgICAgICAgIHVzZWJsaXQ9VHJ1ZSwKICAg\nICAgICAgICAgYnV0dG9uPVsxXSwgICMgTGVmdCBtb3VzZSBidXR0b24KICAg\nICAgICAgICAgbWluc3Bhbng9NSwgbWluc3Bhbnk9NSwKICAgICAgICAgICAg\nc3BhbmNvb3Jkcz0ncGl4ZWxzJywKICAgICAgICAgICAgaW50ZXJhY3RpdmU9\nRmFsc2UKICAgICAgICApCgogICAgICAgICMgSW5pdGlhbCBWaWV3CiAgICAg\nICAgc2VsZi51cGRhdGVfdmlldygwLCBJTklUSUFMX1dJTkRPV19TRUMgKiBz\nZWxmLnJhdGUpCgogICAgICAgICMgRXhwbGljaXRseSBzeW5jIHNsaWRlciBh\nZnRlciBpbml0aWFsIHZpZXcgdG8gZW5zdXJlIGl0IG1hdGNoZXMgdGhlIHBs\nb3QgbGltaXRzCiAgICAgICAgIyBXZSByZWFkIGJhY2sgdGhlIGFjdHVhbCBs\naW1pdHMgYmVjYXVzZSB1cGRhdGVfdmlldyBtaWdodCBoYXZlIGNsYW1wZWQg\ndGhlIHdpbmRvdwogICAgICAgICMgKGUuZy4gaWYgdGhlIGZpbGUgaXMgc21h\nbGxlciB0aGFuIElOSVRJQUxfV0lORE9XX1NFQykKCiAgICAgICAgY3VycmVu\ndF94bGltID0gc2VsZi5heC5nZXRfeGxpbSgpCiAgICAgICAgc3RhcnRfc2Ft\ncCwgZW5kX3NhbXAgPSBjdXJyZW50X3hsaW1bMF0sIGN1cnJlbnRfeGxpbVsx\nXQoKICAgICAgICBpZiBzZWxmLnhfbW9kZSA9PSAnVGltZSc6CiAgICAgICAg\nICAgIHMgPSBzdGFydF9zYW1wIC8gc2VsZi5yYXRlCiAgICAgICAgICAgIGUg\nPSBlbmRfc2FtcCAvIHNlbGYucmF0ZQogICAgICAgICAgICBzZWxmLnNsaWRl\nci5zZXRfdmFsKChzLCBlKSkKICAgICAgICAgICAgc2VsZi51cGRhdGVfc2xp\nZGVyX3RleHQoKHMsIGUpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgICBz\nZWxmLnNsaWRlci5zZXRfdmFsKChzdGFydF9zYW1wLCBlbmRfc2FtcCkpCiAg\nICAgICAgICAgICBzZWxmLnVwZGF0ZV9zbGlkZXJfdGV4dCgoc3RhcnRfc2Ft\ncCwgZW5kX3NhbXApKQoKICAgICAgICBwbHQuc2hvdygpCgogICAgZGVmIGdl\ndF9jaHVuayhzZWxmLCBzdGFydF9zYW1wbGUsIHdpbmRvd19zYW1wbGVzKToK\nICAgICAgICAjIHN0YXJ0X3NhbXBsZSBpcyBhIGZsb2F0IGZyb20gbWF0cGxv\ndGxpYiBheGVzIG9mdGVuLCBjYXN0IHRvIGludAogICAgICAgIHN0YXJ0X3Nh\nbXBsZSA9IGludChzdGFydF9zYW1wbGUpCiAgICAgICAgd2luZG93X3NhbXBs\nZXMgPSBpbnQod2luZG93X3NhbXBsZXMpCgogICAgICAgICMgRW5zdXJlIHdl\nIGRvbid0IHJlcXVlc3QgbmVnYXRpdmUgc3RhcnQKICAgICAgICBzdGFydF9z\nYW1wbGUgPSBtYXgoMCwgc3RhcnRfc2FtcGxlKQoKICAgICAgICBlbmRfc2Ft\ncGxlID0gc3RhcnRfc2FtcGxlICsgd2luZG93X3NhbXBsZXMKCiAgICAgICAg\nIyBEZXRlcm1pbmUgZG93bnNhbXBsaW5nIHN0ZXAgdG8ga2VlcCBwbG90IGZh\nc3QKICAgICAgICB0b3RhbF9zYW1wbGVzID0gd2luZG93X3NhbXBsZXMKICAg\nICAgICBzdGVwID0gMQogICAgICAgIGlmIHRvdGFsX3NhbXBsZXMgPiBNQVhf\nUExPVF9QT0lOVFM6CiAgICAgICAgICAgIHN0ZXAgPSBpbnQobnAuY2VpbCh0\nb3RhbF9zYW1wbGVzIC8gTUFYX1BMT1RfUE9JTlRTKSkKCiAgICAgICAgZ2xv\nYmFsX21pbl95LCBnbG9iYWxfbWF4X3kgPSAyMTQ3NDgzNjQ3LCAtMjE0NzQ4\nMzY0OAogICAgICAgIGhhc19kYXRhID0gRmFsc2UKCiAgICAgICAgZm9yIGxp\nbmUsIChtbSwgXykgaW4gemlwKHNlbGYubGluZXMsIHNlbGYubWFwcGVkX2Zp\nbGVzKToKICAgICAgICAgICAgaWYgc3RhcnRfc2FtcGxlID49IG1tLnNpemU6\nCiAgICAgICAgICAgICAgICBsaW5lLnNldF9kYXRhKFtdLCBbXSkKICAgICAg\nICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAjIFNhZmUgZW5kIGZv\nciB0aGlzIHNwZWNpZmljIGZpbGUKICAgICAgICAgICAgc2FmZV9lbmQgPSBt\naW4oZW5kX3NhbXBsZSwgbW0uc2l6ZSkKICAgICAgICAgICAgaWYgc2FmZV9l\nbmQgPD0gc3RhcnRfc2FtcGxlOgogICAgICAgICAgICAgICAgIGxpbmUuc2V0\nX2RhdGEoW10sIFtdKQogICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAg\nICAgICAgICAjIFN0cmlkZWQgc2xpY2UgKFZpZXcgaW50byBtZW1vcnkgbWFw\nIC0gdmVyeSBmYXN0KQogICAgICAgICAgICBjaHVuayA9IG1tW3N0YXJ0X3Nh\nbXBsZTpzYWZlX2VuZDpzdGVwXQoKICAgICAgICAgICAgaWYgY2h1bmsuc2l6\nZSA+IDA6CiAgICAgICAgICAgICAgICAjIEdlbmVyYXRlIFggQXhpcyB3aXRo\nb3V0IGFsbG9jYXRpb24gdXNpbmcgcHJlLWFsbG9jYXRlZCBidWZmZXIKICAg\nICAgICAgICAgICAgICMgV2UgdXNlIHRoZSBzaGFyZWQgc2VsZi50X2J1ZmZl\nciAobm93IGVzc2VudGlhbGx5IGluZGljZXMpCgogICAgICAgICAgICAgICAg\nY3VycmVudF9jb3VudCA9IGNodW5rLnNpemUKICAgICAgICAgICAgICAgIGlm\nIGN1cnJlbnRfY291bnQgPiBsZW4oc2VsZi50X2J1ZmZlcik6CiAgICAgICAg\nICAgICAgICAgICAgIyBTaG91bGQgcmFyZWx5IGhhcHBlbiB3aXRoIGNvcnJl\nY3Qgc3RlcCBsb2dpYywgYnV0IHJlc2l6ZSBpZiBuZWVkZWQKICAgICAgICAg\nICAgICAgICAgICBzZWxmLnRfYnVmZmVyID0gbnAuemVyb3MoY3VycmVudF9j\nb3VudCwgZHR5cGU9bnAuZmxvYXQ2NCkKCiAgICAgICAgICAgICAgICAjIElu\nLXBsYWNlIGdlbmVyYXRpb24gb2Ygc2FtcGxlIGF4aXM6CiAgICAgICAgICAg\nICAgICAjIDEuIEZpbGwgd2l0aCAwLi5OLTEKICAgICAgICAgICAgICAgICMg\nMi4gU2NhbGUgYnkgc3RlcAogICAgICAgICAgICAgICAgIyAzLiBBZGQgc3Rh\ncnRfc2FtcGxlCgogICAgICAgICAgICAgICAgIyBWaWV3IGludG8gdGhlIHJl\nc3VsdCBidWZmZXIKICAgICAgICAgICAgICAgIHRhcmdldF9idWZmZXIgPSBz\nZWxmLnRfYnVmZmVyWzpjdXJyZW50X2NvdW50XQoKICAgICAgICAgICAgICAg\nICMgQ29weSBwcmUtY2FsY3VsYXRlZCBpbmRpY2VzIDAuLk4tMQogICAgICAg\nICAgICAgICAgbnAuY29weXRvKHRhcmdldF9idWZmZXIsIHNlbGYuaW5kZXhf\nYnVmZmVyWzpjdXJyZW50X2NvdW50XSkKCiAgICAgICAgICAgICAgICAjIEFw\ncGx5IHNjYWxpbmcgYW5kIG9mZnNldCBpbi1wbGFjZQogICAgICAgICAgICAg\nICAgdGFyZ2V0X2J1ZmZlciAqPSBzdGVwCiAgICAgICAgICAgICAgICB0YXJn\nZXRfYnVmZmVyICs9IHN0YXJ0X3NhbXBsZQoKICAgICAgICAgICAgICAgIGxp\nbmUuc2V0X2RhdGEodGFyZ2V0X2J1ZmZlciwgY2h1bmspCgogICAgICAgICAg\nICAgICAgIyBTaG93IG1hcmtlcnMgaWYgem9vbWluZyBpbiBlbm91Z2ggKHN0\nZXAgbXVzdCBiZSAxIHRvIHNob3cgdHJ1ZSBzYW1wbGVzKQogICAgICAgICAg\nICAgICAgaWYgc3RlcCA9PSAxIGFuZCBjaHVuay5zaXplIDwgMzAwOgogICAg\nICAgICAgICAgICAgICAgIGxpbmUuc2V0X21hcmtlcignLicpCiAgICAgICAg\nICAgICAgICAgICAgbGluZS5zZXRfbWFya2Vyc2l6ZSgzKQogICAgICAgICAg\nICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBsaW5lLnNldF9tYXJr\nZXIoIiIpCgogICAgICAgICAgICAgICAgZ2xvYmFsX21pbl95ID0gbWluKGds\nb2JhbF9taW5feSwgbnAubWluKGNodW5rKSkKICAgICAgICAgICAgICAgIGds\nb2JhbF9tYXhfeSA9IG1heChnbG9iYWxfbWF4X3ksIG5wLm1heChjaHVuaykp\nCiAgICAgICAgICAgICAgICBoYXNfZGF0YSA9IFRydWUKICAgICAgICAgICAg\nZWxzZToKICAgICAgICAgICAgICAgIGxpbmUuc2V0X2RhdGEoW10sIFtdKQoK\nICAgICAgICByZXR1cm4gaGFzX2RhdGEsIGdsb2JhbF9taW5feSwgZ2xvYmFs\nX21heF95CgogICAgZGVmIHVwZGF0ZV92aWV3KHNlbGYsIHN0YXJ0X3NhbXBs\nZSwgd2lkdGhfc2FtcGxlcyk6CiAgICAgICAgIiIiQ29yZSB1cGRhdGUgbG9n\naWM6IGxvYWRzIGRhdGEgYW5kIHNldHMgbGltaXRzIChDb25zdHJhaW5lZCBN\nb2RlKS4iIiIKICAgICAgICBpZiBzZWxmLm5hdmlnYXRpbmc6IHJldHVybgog\nICAgICAgIHNlbGYubmF2aWdhdGluZyA9IFRydWUKICAgICAgICB0cnk6CiAg\nICAgICAgICAgICMgQ2xhbXAgd2lkdGgKICAgICAgICAgICAgd2lkdGhfc2Ft\ncGxlcyA9IG1heChzZWxmLm1pbl96b29tX3NhbXBsZXMsIG1pbih3aWR0aF9z\nYW1wbGVzLCBzZWxmLm1heF9zYW1wbGVzKSkKCiAgICAgICAgICAgICMgQ2xh\nbXAgc3RhcnQgdGltZQogICAgICAgICAgICBzdGFydF9zYW1wbGUgPSBtYXgo\nMCwgbWluKHN0YXJ0X3NhbXBsZSwgc2VsZi5tYXhfc2FtcGxlcykpCgogICAg\nICAgICAgICBoYXNfZGF0YSwgbWluX3ksIG1heF95ID0gc2VsZi5nZXRfY2h1\nbmsoc3RhcnRfc2FtcGxlLCB3aWR0aF9zYW1wbGVzKQoKICAgICAgICAgICAg\nIyBJTVBPUlRBTlQ6IFNldCBsaW1pdHMgb24gdGhlIE1BSU4gYXhlcywgZXhw\nbGljaXRseSB1c2luZyBzZWxmLmF4CiAgICAgICAgICAgIHNlbGYuYXguc2V0\nX3hsaW0oc3RhcnRfc2FtcGxlLCBzdGFydF9zYW1wbGUgKyB3aWR0aF9zYW1w\nbGVzKQoKICAgICAgICAgICAgIyBUaWdodCBZLWF4aXMgc2NhbGluZyBsb2dp\nYwogICAgICAgICAgICBpZiBoYXNfZGF0YSBhbmQgbWF4X3kgPiBtaW5feToK\nICAgICAgICAgICAgICAgICMgU3ltbWV0cmljIHpvb20gY2VudGVyZWQgYXQg\nMAogICAgICAgICAgICAgICAgbWF4X3ZhbCA9IG1heChhYnMobWluX3kpLCBh\nYnMobWF4X3kpKQogICAgICAgICAgICAgICAgbWluX3ZhbCA9IDE2NzAwMDAg\nIyB2ZXJ5IGFwcHJveGltYXRlbHkgMS4xbVYKCiAgICAgICAgICAgICAgICBp\nZiBtYXhfdmFsIDwgbWluX3ZhbDoKICAgICAgICAgICAgICAgICAgICBtYXhf\ndmFsID0gbWluX3ZhbAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAg\nICAgICAgICAgICBtYXhfdmFsICo9IDEuMDUKCiAgICAgICAgICAgICAgICBz\nZWxmLmF4LnNldF95bGltKC1tYXhfdmFsLCBtYXhfdmFsKQogICAgICAgICAg\nICBlbHNlOgogICAgICAgICAgICAgICAgICMgRGVmYXVsdCBmYWxsYmFjayBp\nZiBubyBkYXRhICgtMS4wIHRvIDEuMCBlcXVpdmFsZW50KQogICAgICAgICAg\nICAgICAgIHNlbGYuYXguc2V0X3lsaW0oLTIxNDc0ODM2NDgsIDIxNDc0ODM2\nNDgpCgogICAgICAgICAgICBzZWxmLmZpZy5jYW52YXMuZHJhd19pZGxlKCkK\nICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBzZWxmLm5hdmlnYXRpbmcg\nPSBGYWxzZQoKICAgIGRlZiB1cGRhdGVfc2xpZGVyX3RleHQoc2VsZiwgdmFs\nKToKICAgICAgICAiIiJIZWxwZXIgdG8gdXBkYXRlIHNsaWRlciB0ZXh0cyAo\nV2lkdGggYW5kIEVuZCBQb2ludCkuIiIiCiAgICAgICAgc3RhcnRfdmFsLCBl\nbmRfdmFsID0gdmFsCiAgICAgICAgd2lkdGggPSBlbmRfdmFsIC0gc3RhcnRf\ndmFsCgogICAgZGVmIHVwZGF0ZV9zbGlkZXJfdGV4dChzZWxmLCB2YWwpOgog\nICAgICAgICIiIkhlbHBlciB0byB1cGRhdGUgc2xpZGVyIHRleHRzIChXaWR0\naCBhbmQgRW5kIFBvaW50KS4iIiIKICAgICAgICBzdGFydF92YWwsIGVuZF92\nYWwgPSB2YWwKICAgICAgICB3aWR0aCA9IGVuZF92YWwgLSBzdGFydF92YWwK\nCiAgICAgICAgaWYgc2VsZi54X21vZGUgPT0gJ1RpbWUnOgogICAgICAgICAg\nICBzZWxmLnNsaWRlci52YWx0ZXh0LnNldF90ZXh0KGYiV2luZG93OiB7c3Rh\ncnRfdmFsOi4zZn0gKyB7d2lkdGg6LjNmfSBzIikKICAgICAgICBlbHNlOgog\nICAgICAgICAgICBzZWxmLnNsaWRlci52YWx0ZXh0LnNldF90ZXh0KGYiV2lu\nZG93OiB7aW50KHN0YXJ0X3ZhbCl9ICsge2ludCh3aWR0aCl9IikKCiAgICBk\nZWYgdXBkYXRlX3NsaWRlcihzZWxmLCB2YWwpOgogICAgICAgICIiIkNhbGxi\nYWNrIGZvciBzbGlkZXIgY2hhbmdlLiIiIgogICAgICAgIHNlbGYudXBkYXRl\nX3NsaWRlcl90ZXh0KHZhbCkKCiAgICAgICAgaWYgc2VsZi5uYXZpZ2F0aW5n\nOiByZXR1cm4KCiAgICAgICAgIyBWYWwgaXMgKG1pbiwgbWF4KQogICAgICAg\nIHN0YXJ0X3ZhbCwgZW5kX3ZhbCA9IHZhbAogICAgICAgIHdpZHRoX3ZhbCA9\nIGVuZF92YWwgLSBzdGFydF92YWwKCiAgICAgICAgIyBDb252ZXJ0IHRvIHNh\nbXBsZXMKICAgICAgICBpZiBzZWxmLnhfbW9kZSA9PSAnVGltZSc6CiAgICAg\nICAgICAgIHN0YXJ0X3NhbXBsZSA9IHN0YXJ0X3ZhbCAqIHNlbGYucmF0ZQog\nICAgICAgICAgICB3aWR0aF9zYW1wbGVzID0gd2lkdGhfdmFsICogc2VsZi5y\nYXRlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc3RhcnRfc2FtcGxlID0g\nc3RhcnRfdmFsCiAgICAgICAgICAgIHdpZHRoX3NhbXBsZXMgPSB3aWR0aF92\nYWwKCiAgICAgICAgIyBGYWxsYmFjayBmb3IgaW5pdAogICAgICAgIGlmIHdp\nZHRoX3NhbXBsZXMgPD0gMDogd2lkdGhfc2FtcGxlcyA9IElOSVRJQUxfV0lO\nRE9XX1NFQyAqIHNlbGYucmF0ZQoKICAgICAgICBzZWxmLnVwZGF0ZV92aWV3\nKHN0YXJ0X3NhbXBsZSwgd2lkdGhfc2FtcGxlcykKCiAgICBkZWYgb25fc2Ny\nb2xsKHNlbGYsIGV2ZW50KToKICAgICAgICAiIiJIYW5kbGUgem9vbS4iIiIK\nICAgICAgICBpZiBldmVudC5pbmF4ZXMgIT0gc2VsZi5heDogcmV0dXJuCgog\nICAgICAgIHhsaW0gPSBzZWxmLmF4LmdldF94bGltKCkKICAgICAgICBjdXJf\nd2lkdGggPSB4bGltWzFdIC0geGxpbVswXQoKICAgICAgICBzY2FsZV9mYWN0\nb3IgPSAwLjggaWYgZXZlbnQuYnV0dG9uID09ICd1cCcgZWxzZSAxLjIKICAg\nICAgICBuZXdfd2lkdGggPSBjdXJfd2lkdGggKiBzY2FsZV9mYWN0b3IKCiAg\nICAgICAgIyBDbGFtcCB6b29tCiAgICAgICAgbmV3X3dpZHRoID0gbWF4KHNl\nbGYubWluX3pvb21fc2FtcGxlcywgbWluKG5ld193aWR0aCwgc2VsZi5tYXhf\nc2FtcGxlcykpCgogICAgICAgICMgQ2VudGVyIHpvb20KICAgICAgICByZWxf\neCA9IChldmVudC54ZGF0YSAtIHhsaW1bMF0pIC8gY3VyX3dpZHRoCiAgICAg\nICAgbmV3X3N0YXJ0ID0gZXZlbnQueGRhdGEgLSAobmV3X3dpZHRoICogcmVs\nX3gpCgogICAgICAgICMgQ2xhbXAgYm91bmRzCiAgICAgICAgbmV3X3N0YXJ0\nID0gbWF4KDAsIG1pbihuZXdfc3RhcnQsIHNlbGYubWF4X3NhbXBsZXMgLSBu\nZXdfd2lkdGgpKQoKICAgICAgICAjIFNldCB0aGUgcGxvdCBsaW1pdHMgRklS\nU1QKICAgICAgICBzZWxmLmF4LnNldF94bGltKG5ld19zdGFydCwgbmV3X3N0\nYXJ0ICsgbmV3X3dpZHRoKQoKICAgICAgICAjIFRoZW4gdXBkYXRlIHNsaWRl\ncgogICAgICAgIGlmIHNlbGYueF9tb2RlID09ICdUaW1lJzoKICAgICAgICAg\nICAgIHMgPSBuZXdfc3RhcnQgLyBzZWxmLnJhdGUKICAgICAgICAgICAgIGUg\nPSAobmV3X3N0YXJ0ICsgbmV3X3dpZHRoKSAvIHNlbGYucmF0ZQogICAgICAg\nICAgICAgc2VsZi5zbGlkZXIuc2V0X3ZhbCgocywgZSkpCiAgICAgICAgICAg\nICBzZWxmLnVwZGF0ZV9zbGlkZXJfdGV4dCgocywgZSkpCiAgICAgICAgZWxz\nZToKICAgICAgICAgICAgIHNlbGYuc2xpZGVyLnNldF92YWwoKG5ld19zdGFy\ndCwgbmV3X3N0YXJ0ICsgbmV3X3dpZHRoKSkKICAgICAgICAgICAgIHNlbGYu\ndXBkYXRlX3NsaWRlcl90ZXh0KChuZXdfc3RhcnQsIG5ld19zdGFydCArIG5l\nd193aWR0aCkpCgogICAgZGVmIG9uX3hsaW1fY2hhbmdlZChzZWxmLCBheCk6\nCiAgICAgICAgIiIiSGFuZGxlIGV4dGVybmFsIHhsaW0gY2hhbmdlcyAoZS5n\nLiBmcm9tIFRvb2xiYXIpLiBVbmNvbnN0cmFpbmVkIGxvYWQuIiIiCiAgICAg\nICAgaWYgc2VsZi5uYXZpZ2F0aW5nOiByZXR1cm4KICAgICAgICBzZWxmLm5h\ndmlnYXRpbmcgPSBUcnVlCiAgICAgICAgdHJ5OgogICAgICAgICAgICB4bGlt\nID0gYXguZ2V0X3hsaW0oKQogICAgICAgICAgICBzdGFydF9zYW1wbGUgPSB4\nbGltWzBdCiAgICAgICAgICAgIHdpZHRoID0geGxpbVsxXSAtIHhsaW1bMF0K\nCiAgICAgICAgICAgICMgUmVsb2FkIGRhdGEgKE5vIGNvbnN0cmFpbnRzKQog\nICAgICAgICAgICBzZWxmLmdldF9jaHVuayhzdGFydF9zYW1wbGUsIHdpZHRo\nKQoKICAgICAgICAgICAgIyBTeW5jIHNsaWRlciBzaWxlbnRseQogICAgICAg\nICAgICAjIFN5bmMgc2xpZGVyIHNpbGVudGx5CiAgICAgICAgICAgIGlmIGhh\nc2F0dHIoc2VsZiwgJ3NsaWRlcicpOgogICAgICAgICAgICAgICAgb2xkX2V2\nZW50c29uID0gc2VsZi5zbGlkZXIuZXZlbnRzb24KICAgICAgICAgICAgICAg\nIHNlbGYuc2xpZGVyLmV2ZW50c29uID0gRmFsc2UKCiAgICAgICAgICAgICAg\nICBpZiBzZWxmLnhfbW9kZSA9PSAnVGltZSc6CiAgICAgICAgICAgICAgICAg\nICAgcyA9IHN0YXJ0X3NhbXBsZSAvIHNlbGYucmF0ZQogICAgICAgICAgICAg\nICAgICAgIGUgPSAoc3RhcnRfc2FtcGxlICsgd2lkdGgpIC8gc2VsZi5yYXRl\nCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zbGlkZXIuc2V0X3ZhbCgocywg\nZSkpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAg\nIHNlbGYuc2xpZGVyLnNldF92YWwoKHN0YXJ0X3NhbXBsZSwgc3RhcnRfc2Ft\ncGxlICsgd2lkdGgpKQoKICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVyLmV2\nZW50c29uID0gb2xkX2V2ZW50c29uCiAgICAgICAgZmluYWxseToKICAgICAg\nICAgICAgc2VsZi5uYXZpZ2F0aW5nID0gRmFsc2UKCiAgICBkZWYgb25fa2V5\nKHNlbGYsIGV2ZW50KToKICAgICAgICAiIiJIYW5kbGUga2V5Ym9hcmQgc2hv\ncnRjdXRzIChJbmRlcGVuZGVudCBOYXZpZ2F0aW9uKS4iIiIKICAgICAgICBp\nZiBzZWxmLm5hdmlnYXRpbmc6IHJldHVybgogICAgICAgIHNlbGYubmF2aWdh\ndGluZyA9IFRydWUKICAgICAgICB0cnk6CiAgICAgICAgICAgICMgR2V0IHBy\nb3BlcnRpZXMKICAgICAgICAgICAgeGxpbSA9IHNlbGYuYXguZ2V0X3hsaW0o\nKQogICAgICAgICAgICB5bGltID0gc2VsZi5heC5nZXRfeWxpbSgpCgogICAg\nICAgICAgICB3aWR0aCA9IHhsaW1bMV0gLSB4bGltWzBdCiAgICAgICAgICAg\nIGhlaWdodCA9IHlsaW1bMV0gLSB5bGltWzBdCgogICAgICAgICAgICBjaGFu\nZ2VkID0gRmFsc2UKCiAgICAgICAgICAgIGlmIGV2ZW50LmtleSA9PSAncmln\naHQnOgogICAgICAgICAgICAgICAgc2hpZnQgPSB3aWR0aCAqIDAuMjUKICAg\nICAgICAgICAgICAgIHNlbGYuYXguc2V0X3hsaW0oeGxpbVswXSArIHNoaWZ0\nLCB4bGltWzFdICsgc2hpZnQpCiAgICAgICAgICAgICAgICBjaGFuZ2VkID0g\nVHJ1ZQogICAgICAgICAgICBlbGlmIGV2ZW50LmtleSA9PSAnbGVmdCc6CiAg\nICAgICAgICAgICAgICBzaGlmdCA9IHdpZHRoICogMC4yNQogICAgICAgICAg\nICAgICAgc2VsZi5heC5zZXRfeGxpbSh4bGltWzBdIC0gc2hpZnQsIHhsaW1b\nMV0gLSBzaGlmdCkKICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBUcnVlCiAg\nICAgICAgICAgIGVsaWYgZXZlbnQua2V5ID09ICd1cCc6CiAgICAgICAgICAg\nICAgICBzaGlmdCA9IGhlaWdodCAqIDAuMjUKICAgICAgICAgICAgICAgIHNl\nbGYuYXguc2V0X3lsaW0oeWxpbVswXSArIHNoaWZ0LCB5bGltWzFdICsgc2hp\nZnQpCiAgICAgICAgICAgICAgICBjaGFuZ2VkID0gVHJ1ZQogICAgICAgICAg\nICBlbGlmIGV2ZW50LmtleSA9PSAnZG93bic6CiAgICAgICAgICAgICAgICBz\naGlmdCA9IGhlaWdodCAqIDAuMjUKICAgICAgICAgICAgICAgIHNlbGYuYXgu\nc2V0X3lsaW0oeWxpbVswXSAtIHNoaWZ0LCB5bGltWzFdIC0gc2hpZnQpCiAg\nICAgICAgICAgICAgICBjaGFuZ2VkID0gVHJ1ZQogICAgICAgICAgICBlbGlm\nIGV2ZW50LmtleSA9PSAncGFnZWRvd24nOiAjIFpvb20gSW4gKDAuNXggd2lk\ndGgpCiAgICAgICAgICAgICAgICBjZW50ZXIgPSAoeGxpbVswXSArIHhsaW1b\nMV0pIC8gMgogICAgICAgICAgICAgICAgbmV3X3dpZHRoID0gd2lkdGggKiAw\nLjUKICAgICAgICAgICAgICAgIG5ld193aWR0aCA9IG1heChuZXdfd2lkdGgs\nIHNlbGYubWluX3pvb21fc2FtcGxlcykKICAgICAgICAgICAgICAgIG5ld19z\ndGFydCA9IGNlbnRlciAtIChuZXdfd2lkdGggLyAyKQogICAgICAgICAgICAg\nICAgIyBDbGFtcCBzdGFydAogICAgICAgICAgICAgICAgbmV3X3N0YXJ0ID0g\nbWF4KDAsIG1pbihuZXdfc3RhcnQsIHNlbGYubWF4X3NhbXBsZXMgLSBuZXdf\nd2lkdGgpKQogICAgICAgICAgICAgICAgc2VsZi5heC5zZXRfeGxpbShuZXdf\nc3RhcnQsIG5ld19zdGFydCArIG5ld193aWR0aCkKICAgICAgICAgICAgICAg\nIGNoYW5nZWQgPSBUcnVlCiAgICAgICAgICAgIGVsaWYgZXZlbnQua2V5ID09\nICdwYWdldXAnOiAjIFpvb20gT3V0ICgyeCB3aWR0aCkKICAgICAgICAgICAg\nICAgIGNlbnRlciA9ICh4bGltWzBdICsgeGxpbVsxXSkgLyAyCiAgICAgICAg\nICAgICAgICBuZXdfd2lkdGggPSB3aWR0aCAqIDIuMAogICAgICAgICAgICAg\nICAgbmV3X3dpZHRoID0gbWluKG5ld193aWR0aCwgc2VsZi5tYXhfc2FtcGxl\ncykKICAgICAgICAgICAgICAgIG5ld19zdGFydCA9IGNlbnRlciAtIChuZXdf\nd2lkdGggLyAyKQogICAgICAgICAgICAgICAgIyBDbGFtcCBzdGFydAogICAg\nICAgICAgICAgICAgbmV3X3N0YXJ0ID0gbWF4KDAsIG1pbihuZXdfc3RhcnQs\nIHNlbGYubWF4X3NhbXBsZXMgLSBuZXdfd2lkdGgpKQogICAgICAgICAgICAg\nICAgc2VsZi5heC5zZXRfeGxpbShuZXdfc3RhcnQsIG5ld19zdGFydCArIG5l\nd193aWR0aCkKICAgICAgICAgICAgICAgIGNoYW5nZWQgPSBUcnVlCgogICAg\nICAgICAgICBpZiBjaGFuZ2VkOgogICAgICAgICAgICAgICAgIyBSZWxvYWQg\nZGF0YSBmb3IgbmV3IFggdmlldwogICAgICAgICAgICAgICAgIyBXZSBuZWVk\nIG5ldyB4bGltCiAgICAgICAgICAgICAgICBuZXdfeGxpbSA9IHNlbGYuYXgu\nZ2V0X3hsaW0oKQogICAgICAgICAgICAgICAgc2VsZi5nZXRfY2h1bmsobmV3\nX3hsaW1bMF0sIG5ld194bGltWzFdIC0gbmV3X3hsaW1bMF0pCgogICAgICAg\nICAgICAgICAgIyBTeW5jIHNsaWRlciBzaWxlbnRseQogICAgICAgICAgICAg\nICAgaWYgaGFzYXR0cihzZWxmLCAnc2xpZGVyJyk6CiAgICAgICAgICAgICAg\nICAgICAgb2xkX2V2ZW50c29uID0gc2VsZi5zbGlkZXIuZXZlbnRzb24KICAg\nICAgICAgICAgICAgICAgICBzZWxmLnNsaWRlci5ldmVudHNvbiA9IEZhbHNl\nCgogICAgICAgICAgICAgICAgICAgIGlmIHNlbGYueF9tb2RlID09ICdUaW1l\nJzoKICAgICAgICAgICAgICAgICAgICAgICAgcyA9IG5ld194bGltWzBdIC8g\nc2VsZi5yYXRlCiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBuZXdfeGxp\nbVsxXSAvIHNlbGYucmF0ZQogICAgICAgICAgICAgICAgICAgICAgICBzZWxm\nLnNsaWRlci5zZXRfdmFsKChzLCBlKSkKICAgICAgICAgICAgICAgICAgICAg\nICAgc2VsZi51cGRhdGVfc2xpZGVyX3RleHQoKHMsIGUpKQogICAgICAgICAg\nICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYu\nc2xpZGVyLnNldF92YWwoKG5ld194bGltWzBdLCBuZXdfeGxpbVsxXSkpCiAg\nICAgICAgICAgICAgICAgICAgICAgIHNlbGYudXBkYXRlX3NsaWRlcl90ZXh0\nKChuZXdfeGxpbVswXSwgbmV3X3hsaW1bMV0pKQoKICAgICAgICAgICAgICAg\nICAgICBzZWxmLnNsaWRlci5ldmVudHNvbiA9IG9sZF9ldmVudHNvbgoKICAg\nICAgICAgICAgICAgIHNlbGYuZmlnLmNhbnZhcy5kcmF3X2lkbGUoKQoKICAg\nICAgICBmaW5hbGx5OgogICAgICAgICAgICAgc2VsZi5uYXZpZ2F0aW5nID0g\nRmFsc2UKCiAgICAgICAgIyBTcGFjZSBCYXIgKFJlc2V0IFpvb20pIC0gT25s\neSByZXNldCBZIGF4aXMgdG8gZml0IHZpc2libGUgZGF0YSAoQXV0by1zY2Fs\nZSkKICAgICAgICBpZiBldmVudC5rZXkgPT0gJyAnOgogICAgICAgICAgICB4\nbGltID0gc2VsZi5heC5nZXRfeGxpbSgpCiAgICAgICAgICAgIHdpZHRoID0g\neGxpbVsxXSAtIHhsaW1bMF0KICAgICAgICAgICAgc2VsZi51cGRhdGVfdmll\ndyh4bGltWzBdLCB3aWR0aCkKCiAgICBkZWYgb25fc2VsZWN0KHNlbGYsIGVj\nbGljaywgZXJlbGVhc2UpOgogICAgICAgICIiIkhhbmRsZSByZWN0YW5nbGUg\nc2VsZWN0aW9uLiIiIgogICAgICAgIGlmIHNlbGYubmF2aWdhdGluZzogcmV0\ndXJuCgogICAgICAgICMgQ2FsY3VsYXRlIG5ldyByYW5nZXMgZnJvbSB0aGUg\nc2VsZWN0aW9uCiAgICAgICAgeDEsIHkxID0gZWNsaWNrLnhkYXRhLCBlY2xp\nY2sueWRhdGEKICAgICAgICB4MiwgeTIgPSBlcmVsZWFzZS54ZGF0YSwgZXJl\nbGVhc2UueWRhdGEKCiAgICAgICAgc3RhcnRfc2FtcGxlID0gbWluKHgxLCB4\nMikKICAgICAgICBlbmRfc2FtcGxlID0gbWF4KHgxLCB4MikKICAgICAgICB3\naWR0aCA9IGVuZF9zYW1wbGUgLSBzdGFydF9zYW1wbGUKCiAgICAgICAgIyBF\nbmZvcmNlIG1pbmltdW0gd2lkdGgKICAgICAgICBpZiB3aWR0aCA8IHNlbGYu\nbWluX3pvb21fc2FtcGxlczoKICAgICAgICAgICAgY2VudGVyID0gKHN0YXJ0\nX3NhbXBsZSArIGVuZF9zYW1wbGUpIC8gMgogICAgICAgICAgICB3aWR0aCA9\nIHNlbGYubWluX3pvb21fc2FtcGxlcwogICAgICAgICAgICBzdGFydF9zYW1w\nbGUgPSBjZW50ZXIgLSB3aWR0aCAvIDIKCiAgICAgICAgIyBDbGFtcCBzdGFy\ndCB0aW1lCiAgICAgICAgc3RhcnRfc2FtcGxlID0gbWF4KDAsIG1pbihzdGFy\ndF9zYW1wbGUsIHNlbGYubWF4X3NhbXBsZXMgLSB3aWR0aCkpCgogICAgICAg\nICMgVXBkYXRlIHZpZXcgKHdoaWNoIHJlbG9hZHMgZGF0YSkKICAgICAgICAj\nIE5vdGU6IHVwZGF0ZV92aWV3IGhhbmRsZXMgaGVpZ2h0IHNjYWxpbmcgYXV0\nb21hdGljYWxseSBiYXNlZCBvbiBkYXRhLAogICAgICAgICMgYnV0IGlmIHdl\nIHdhbnQgdG8gcmVzcGVjdCB0aGUgdXNlcidzIFkgc2VsZWN0aW9uIHdlIG1p\nZ2h0IG5lZWQgdG8gb3ZlcnJpZGUuCiAgICAgICAgIyBIb3dldmVyLCBmb3Ig\nYXVkaW8sIHVzdWFsbHkgd2Ugd2FudCB0byBzZWUgdGhlIGZ1bGwgYW1wbGl0\ndWRlIG9yIGF1dG8tc2NhbGVkLgogICAgICAgICMgVGhlIHVzZXIgYXNrZWQg\nZm9yICJhcmJpdHJhcnkgem9vbWluZyBiZSBpbXBsZW1lbnRlZCIsIHdoaWNo\nIGltcGxpZXMgWSBtaWdodCBiZSBpbXBvcnRhbnQuCiAgICAgICAgIyBCdXQg\nb3VyIGB1cGRhdGVfdmlld2AgZm9yY2VzIFkgc3ltbWV0cnkgY3VycmVudGx5\nLgogICAgICAgICMgTGV0J3MgdHJ1c3QgYHVwZGF0ZV92aWV3YCBmb3Igbm93\nIGFzIGl0IGhhbmRsZXMgdGhlIGNvbXBsZXhpdHkgb2YgZGF0YSBsb2FkaW5n\nLgogICAgICAgICMgSWYgd2UgcmVhbGx5IHdhbnQgdG8gem9vbSB0byB0aGUg\nWSByZWN0YW5nbGUsIHdlIHdvdWxkIHNldCB5bGltIG1hbnVhbGx5LgogICAg\nICAgICMgR2l2ZW4gdGhlIHByZXZpb3VzIGNvbnRleHQgd2FzIGFib3V0ICJa\nb29tIHRvIFJlY3RhbmdsZSIgaW50ZXJmZXJpbmcgd2l0aCAibW92ZW1lbnQg\nYW5kIHpvb20gY29udHJvbCIsCiAgICAgICAgIyBsZXQncyB0cnkgdG8gbWF0\nY2ggdGhlICJab29tIHRvIFJlY3RhbmdsZSIgYmVoYXZpb3Igd2hpY2ggRE9F\nUyBzZXQgc3BlY2lmaWMgWC9ZIGxpbWl0cy4KCiAgICAgICAgIyBIb3dldmVy\nLCBvdXIgdXBkYXRlX3ZpZXcgbG9naWMgcmUtY2FsY3VsYXRlcyBZIGJhc2Vk\nIG9uIGRhdGEgaW4gdGhlIG5ldyBYIHJhbmdlLi4uCiAgICAgICAgIyBMZXQn\ncyBtb2RpZnkgdGhlIGZsb3cgc2xpZ2h0bHk6IHVzZSB1cGRhdGVfdmlldyBm\nb3IgWCwgdGhlbiBhcHBseSBZIGlmIGl0IG1ha2VzIHNlbnNlPwogICAgICAg\nICMgQWN0dWFsbHksIHN0YW5kYXJkIGF1ZGlvIHZpc3VhbGl6YXRpb24gb2Z0\nZW4ga2VlcHMgWSBzeW1tZXRyaWMgb3IgMC0xLgogICAgICAgICMgSWYgdGhl\nIHVzZXIgZHJhd3MgYSBzbWFsbCBib3ggb24gYSBwZWFrLCB0aGV5IGV4cGVj\ndCB0byB6b29tIGludG8gdGhhdCBwZWFrIChZLXdpc2UgdG9vKS4KCiAgICAg\nICAgIyBTbyBsZXQncyBzZXQgbGltaXRzIGRpcmVjdGx5LCBzaW1pbGFyIHRv\nIG9uX3Njcm9sbC9vbl9rZXksIGJ1dCBmb3IgYm90aCBheGVzLgoKICAgICAg\nICBpZiBzZWxmLm5hdmlnYXRpbmc6IHJldHVybgogICAgICAgIHNlbGYubmF2\naWdhdGluZyA9IFRydWUKICAgICAgICB0cnk6CiAgICAgICAgICAgICAjIFgg\nQXhpcyBMb2dpYwogICAgICAgICAgICAgbmV3X3dpZHRoID0gbWF4KHNlbGYu\nbWluX3pvb21fc2FtcGxlcywgbWluKHdpZHRoLCBzZWxmLm1heF9zYW1wbGVz\nKSkKICAgICAgICAgICAgICMgSWYgdXNlciBzZWxlY3RlZCA8IG1pbiB3aWR0\naCwgd2UgY2VudGVyZWQgaXQgYWJvdmUuCgogICAgICAgICAgICAgc2VsZi5n\nZXRfY2h1bmsoc3RhcnRfc2FtcGxlLCBuZXdfd2lkdGgpCgogICAgICAgICAg\nICAgc2VsZi5heC5zZXRfeGxpbShzdGFydF9zYW1wbGUsIHN0YXJ0X3NhbXBs\nZSArIG5ld193aWR0aCkKCiAgICAgICAgICAgICAjIFkgQXhpcyBMb2dpYwog\nICAgICAgICAgICAgeV9taW4gPSBtaW4oeTEsIHkyKQogICAgICAgICAgICAg\neV9tYXggPSBtYXgoeTEsIHkyKQoKICAgICAgICAgICAgIHNlbGYuYXguc2V0\nX3lsaW0oeV9taW4sIHlfbWF4KQoKICAgICAgICAgICAgIHNlbGYuZmlnLmNh\nbnZhcy5kcmF3X2lkbGUoKQoKICAgICAgICAgICAgIGlmIGhhc2F0dHIoc2Vs\nZiwgJ3NsaWRlcicpOgogICAgICAgICAgICAgICAgIG9sZF9ldmVudHNvbiA9\nIHNlbGYuc2xpZGVyLmV2ZW50c29uCiAgICAgICAgICAgICAgICAgc2VsZi5z\nbGlkZXIuZXZlbnRzb24gPSBGYWxzZQoKICAgICAgICAgICAgICAgICBpZiBz\nZWxmLnhfbW9kZSA9PSAnVGltZSc6CiAgICAgICAgICAgICAgICAgICAgIHMg\nPSBzdGFydF9zYW1wbGUgLyBzZWxmLnJhdGUKICAgICAgICAgICAgICAgICAg\nICAgZSA9IChzdGFydF9zYW1wbGUgKyBuZXdfd2lkdGgpIC8gc2VsZi5yYXRl\nCiAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2xpZGVyLnNldF92YWwoKHMs\nIGUpKQogICAgICAgICAgICAgICAgICAgICBzZWxmLnVwZGF0ZV9zbGlkZXJf\ndGV4dCgocywgZSkpCiAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAg\nICAgICAgICAgICAgc2VsZi5zbGlkZXIuc2V0X3ZhbCgoc3RhcnRfc2FtcGxl\nLCBzdGFydF9zYW1wbGUgKyBuZXdfd2lkdGgpKQogICAgICAgICAgICAgICAg\nICAgICBzZWxmLnVwZGF0ZV9zbGlkZXJfdGV4dCgoc3RhcnRfc2FtcGxlLCBz\ndGFydF9zYW1wbGUgKyBuZXdfd2lkdGgpKQoKICAgICAgICAgICAgICAgICBz\nZWxmLnNsaWRlci5ldmVudHNvbiA9IG9sZF9ldmVudHNvbgoKICAgICAgICBm\naW5hbGx5OgogICAgICAgICAgICBzZWxmLm5hdmlnYXRpbmcgPSBGYWxzZQoK\nCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBwYXJzZXIgPSBhcmdw\nYXJzZS5Bcmd1bWVudFBhcnNlcihkZXNjcmlwdGlvbj0iTGludXggQXVkaW8g\nV2F2ZWZvcm0gVmlzdWFsaXplciAyMDI2IChtbWFwKSIpCiAgICBwYXJzZXIu\nYWRkX2FyZ3VtZW50KCdmaWxlcycsIG5hcmdzPScrJywgaGVscD0iSW5wdXQg\nLmJpbiBmaWxlcyAoaW50MzIpIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQo\nJy0tcmF0ZScsIHR5cGU9aW50LCBkZWZhdWx0PTQ4MDAwLCBoZWxwPSJTYW1w\nbGUgcmF0ZSAoSHopIikKICAgIHBhcnNlci5hZGRfYXJndW1lbnQoJy0tbWlu\nLXpvb20tc2FtcGxlcycsIHR5cGU9aW50LCBkZWZhdWx0PTEwMCwgaGVscD0i\nTWluaW11bSBzYW1wbGVzIHRvIHNob3cgd2hlbiB6b29tZWQgaW4iKQogICAg\nYXJncyA9IHBhcnNlci5wYXJzZV9hcmdzKCkKCiAgICBhcHAgPSBXYXZlZm9y\nbVZpc3VhbGl6ZXIoYXJncy5maWxlcywgYXJncy5yYXRlLCBhcmdzLm1pbl96\nb29tX3NhbXBsZXMpCg==\n", "encoding": "base64", "_links": {"self": "https://api.github.com/repos/torvalds/AudioNoise/contents/visualize.py?ref=main", "git": "https://api.github.com/repos/torvalds/AudioNoise/git/blobs/e920b0d1861df3f6c91858681abb9be812042e05", "html": "https://github.com/torvalds/AudioNoise/blob/main/visualize.py"}}