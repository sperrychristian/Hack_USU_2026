{"name": "profile.py", "path": "benchmark/profile.py", "sha": "1405ea02f43254b8ba8f2d53bcf0957cd63dfd11", "size": 43203, "url": "https://api.github.com/repos/yoelcortes/phenomenode/contents/benchmark/profile.py?ref=master", "html_url": "https://github.com/yoelcortes/phenomenode/blob/master/benchmark/profile.py", "git_url": "https://api.github.com/repos/yoelcortes/phenomenode/git/blobs/1405ea02f43254b8ba8f2d53bcf0957cd63dfd11", "download_url": "https://raw.githubusercontent.com/yoelcortes/phenomenode/master/benchmark/profile.py", "type": "file", "content": "IyAtKi0gY29kaW5nOiB1dGYtOCAtKi0KIiIiCkNyZWF0ZWQgb24gU2F0IE1h\nciAxNiAxMzozODoxMSAyMDI0CgpAYXV0aG9yOiBjb3J0ZXNwZWEKIiIiCmZy\nb20gbWF0cGxvdGxpYiBpbXBvcnQgcHlwbG90IGFzIHBsdApmcm9tIG51bXB5\nLnRlc3RpbmcgaW1wb3J0IGFzc2VydF9hbGxjbG9zZQppbXBvcnQgYmlvc3Rl\nYW0gYXMgYnN0CmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgcGFuZGFzIGFz\nIHBkCmZyb20gYmlvc3RlYW0udXRpbHMgaW1wb3J0IGNvbG9ycyBhcyBjCmZy\nb20gY29sb3JwYWxldHRlIGltcG9ydCBDb2xvcgpmcm9tIHNjaXB5IGltcG9y\ndCBpbnRlcnBvbGF0ZQpmcm9tIHNjaXB5Lm5kaW1hZ2UgaW1wb3J0IGdhdXNz\naWFuX2ZpbHRlcgpmcm9tIG1hdGggaW1wb3J0IHNxcnQKZnJvbSB3YXJuaW5n\ncyBpbXBvcnQgY2F0Y2hfd2FybmluZ3MsIGZpbHRlcndhcm5pbmdzCmZyb20g\ndHlwaW5nIGltcG9ydCBOYW1lZFR1cGxlCmZyb20gLiBpbXBvcnQgc3lzdGVt\ncwppbXBvcnQgb3MKaW1wb3J0IHJlCmltcG9ydCBwaWNrbGUKaW1wb3J0IHRo\nZXJtb3N0ZWFtIGFzIHRtbwpmcm9tIHNjaXB5LmludGVncmF0ZSBpbXBvcnQg\ncm9tYgpmcm9tIHNjaXB5Lm9wdGltaXplIGltcG9ydCBtaW5pbWl6ZQpmcm9t\nIHdhcm5pbmdzIGltcG9ydCB3YXJuCmZyb20gYmlvc3RlYW0gaW1wb3J0IHJl\ncG9ydAppbXBvcnQgb3BlbnB5eGwKaW1wb3J0IGpzb24KZnJvbSB0aGVybW9z\ndGVhbS5waGVub21lbm9kZSBpbXBvcnQgY29sb3JzIGFzIHBoZW5vbWVuYV9j\nb2xvcnMKaW1wb3J0IG1hdHBsb3RsaWIuYW5pbWF0aW9uIGFzIGFuaW1hdGlv\nbgppbXBvcnQgbWF0cGxvdGxpYi50aWNrZXIgYXMgdGlja2VyCgpfX2FsbF9f\nID0gKAogICAgJ2dldF92YXJpYWJsZV9wcm9maWxlcycsCiAgICAncGxvdF9w\ncm9maWxlJywKICAgICdyZWdpc3RlcicsCiAgICAnYWxsX3N5c3RlbXMnLAog\nICAgJ3Rlc3RfY29udmVyZ2VuY2UnLAogICAgJ2dldF9zdGVhZHlfc3RhdGUn\nLAogICAgJ3N0ZWFkeV9zdGF0ZV92YXJpYWJsZXNfdGFibGUnLAogICAgJ3Nw\nZWNpZmljYXRpb25zX3RhYmxlJywKICAgICdzeXN0ZW1fcmVwb3J0JywKICAg\nICdzYXZlX2FsbF9zeXN0ZW1fcmVwb3J0cycsCiAgICAnY3JlYXRlX3RyYWNr\nZWRfc3lzdGVtJywKICAgICd2YXJpYWJsZV9jb252ZXJnZW5jZV90YWJsZScs\nCiAgICAjICdzYXZlX3N0cmVhbV90YWJsZXNfYW5kX3NwZWNpZmljYXRpb25z\nJywKICAgICdjcmVhdGVfZ3JhcGhfdGhlb3JldGljX2NvbnZlcmdlbmNlX2dp\nZicsCiAgICAnY3JlYXRlX2NvbnZlcmdlbmNlX3Bsb3QnLAogICAgJ2dldF9w\naGVub21lZ3JhcGgnLAogICAgJ2NyZWF0ZV9ncmFwaHMnLAogICAgJ2NyZWF0\nZV9jb252ZXJnZW5jZV9naWYnLAogICAgJ3Bsb3Rfb3NjaWxsYXRpbmdfdmFy\naWFibGVzJywKICAgICdnZXRfTExFX3BhcnRpdGlvbl9jb2VmZmljaWVudHMn\nLAopCgojICUlIE1ha2Ugc2ltdWxhdGlvbiByaWdvcm91cyB0byBhY2hpZXZl\nIGxvd2VyIHRvbGVyYW5jZXMKCmJzdC5TeXN0ZW0uc3RyaWN0X2NvbnZlcmdl\nbmNlID0gRmFsc2UKYnN0LlN5c3RlbS5kZWZhdWx0X21heGl0ZXIgPSAyMDAK\nYnN0LlN5c3RlbS5kZWZhdWx0X21vbGFyX3RvbGVyYW5jZSA9IDFlLTYKYnN0\nLlN5c3RlbS5kZWZhdWx0X3JlbGF0aXZlX21vbGFyX3RvbGVyYW5jZSA9IDFl\nLTYKYnN0Lk11bHRpU3RhZ2VFcXVpbGlicml1bS5kZWZhdWx0X29wdGltaXpl\nX3Jlc3VsdCA9IEZhbHNlCmJzdC5NdWx0aVN0YWdlRXF1aWxpYnJpdW0uZGVm\nYXVsdF9tYXhpdGVyID0gMjAKYnN0Lk11bHRpU3RhZ2VFcXVpbGlicml1bS5t\nYXhfYXR0ZW1wdHMgPSAwICMgMCBmb3IgdHJhY2tpbmcKYnN0Lk11bHRpU3Rh\nZ2VFcXVpbGlicml1bS5kZWZhdWx0X21vbGFyX3RvbGVyYW5jZSA9IDFlLTkK\nYnN0Lk11bHRpU3RhZ2VFcXVpbGlicml1bS5kZWZhdWx0X3JlbGF0aXZlX21v\nbGFyX3RvbGVyYW5jZSA9IDFlLTEyCmJzdC5NdWx0aVN0YWdlTWl4ZXJTZXR0\nbGVycy5kZWZhdWx0X21heGl0ZXIgPSAzMCAjIDUwCmJzdC5NdWx0aVN0YWdl\nTWl4ZXJTZXR0bGVycy5tYXhfYXR0ZW1wdHMgPSAwCmJzdC5QaGFzZVBhcnRp\ndGlvbi5CX3JlbGF4YXRpb25fZmFjdG9yID0gMC41CmJzdC5NdWx0aVN0YWdl\nRXF1aWxpYnJpdW0uZGVmYXVsdF9tZXRob2RzID0geydwaGVub21lbmEnOiAn\nZml4ZWQtcG9pbnQnfQojIGJzdC5NdWx0aVN0YWdlRXF1aWxpYnJpdW0uZGVm\nYXVsdF9mYWxsYmFjayA9ICgnc2VxdWVudGlhbCcsIE5vbmUpCiMgYnN0Lk11\nbHRpU3RhZ2VNaXhlclNldHRsZXJzLmRlZmF1bHRfZmFsbGJhY2sgPSBOb25l\nCnRtby5CdWJibGVQb2ludC5tYXhpdGVyID0gMTAwICMgLT4gNTAgWy1dCnRt\nby5EZXdQb2ludC5tYXhpdGVyID0gMTAwICMgLT4gNTAgWy1dCnRtby5CdWJi\nbGVQb2ludC5UX3RvbCA9IDFlLTE2ICMgLT4gMWUtOSBbS10KdG1vLkRld1Bv\naW50LlRfdG9sID0gMWUtMTYgIyAtPiAxZS05IFtLXQp0bW8uQnViYmxlUG9p\nbnQuUF90b2wgPSAxZS05ICMgLT4gMWUtMyBbUGFdCnRtby5EZXdQb2ludC5Q\nX3RvbCA9IDFlLTkgIyAtPiAxZS0zIFtQYV0KdG1vLlZMRS5UX3RvbCA9IDFl\nLTEyICMgLT4gNWUtOCBbS10KdG1vLlZMRS5QX3RvbCA9IDFlLTEyICMgLT4g\nMS4gW1BhXQp0bW8uVkxFLm1heGl0ZXIgPSA1MCAjIC0+IDIwIFstXQp0bW8u\nVkxFLlRfdG9sID0gMWUtMTIgIyAtPiA1ZS04IFtLXQp0bW8uVkxFLlBfdG9s\nID0gMWUtOSAjIC0+IDEuIFtQYV0KdG1vLlZMRS5IX2hhdF90b2wgPSAxZS0x\nMiAjIC0+IDFlLTYgW0ovZ10KdG1vLlZMRS5TX2hhdF90b2wgPSAxZS0xMiAj\nIC0+IDFlLTYgW0ovZy9LXQp0bW8uVkxFLlZfdG9sID0gMWUtMTIgIyAtPiAx\nZS02IFttb2wgJV0KdG1vLlZMRS54X3RvbCA9IDFlLTEyICMgLT4gMWUtOSBb\nbW9sICVdCnRtby5WTEUueV90b2wgPSAxZS0xMiAjIC0+IDFlLTkgW21vbCAl\nXQp0bW8uTExFLnNoZ29fb3B0aW9ucyA9IGRpY3QoZl90b2w9MWUtOSwgbWlu\naW1pemVyX2t3YXJncz1kaWN0KGZfdG9sPTFlLTkpKQp0bW8uTExFLmRpZmZl\ncmVudGlhbF9ldm9sdXRpb25fb3B0aW9ucyA9IHsnc2VlZCc6IDAsICdwb3Bz\naXplJzogMTIsICd0b2wnOiAxZS05fQp0bW8uTExFLnBzZXVkb19lcXVpbGli\ncml1bV9vdXRlcl9sb29wX29wdGlvbnMgPSBkaWN0KAogICAgeHRvbD0xZS0x\nNiwgcnRvbD0xZS0xNiwgbWF4aXRlcj0yMDAsIGNoZWNraXRlcj1GYWxzZSwg\nCiAgICBjaGVja2NvbnZlcmdlbmNlPUZhbHNlLCBjb252ZXJnZW5jZWl0ZXI9\nMjAsCikKdG1vLkxMRS5wc2V1ZG9fZXF1aWxpYnJpdW1faW5uZXJfbG9vcF9v\ncHRpb25zID0gZGljdCgKICAgIHh0b2w9MWUtMTIsIHJ0b2w9MWUtMTYsIG1h\neGl0ZXI9MjAwLCBjaGVja2l0ZXI9RmFsc2UsCiAgICBjaGVja2NvbnZlcmdl\nbmNlPUZhbHNlLCBjb252ZXJnZW5jZWl0ZXI9MjAsCikKdG1vLkxMRS5kZWZh\ndWx0X2NvbXBvc2l0aW9uX2NhY2hlX3RvbGVyYW5jZSA9IDFlLTE2CnRtby5M\nTEUuZGVmYXVsdF90ZW1wZXJhdHVyZV9jYWNoZV90b2xlcmFuY2UgPSAxZS0x\nNgpic3QuU2hvcnRjdXRDb2x1bW4uaXRlcl9zb2x2ZXJfa3dhcmdzID0gZGlj\ndCgKICAgIHh0b2w9MWUtMTYsCiAgICBjaGVja2l0ZXI9RmFsc2UsCiAgICBj\naGVja2NvbnZlcmdlbmNlPUZhbHNlLCAKICAgIGNvbnZlcmdlbmNlaXRlcj0y\nMCwKKQoKIyAlJSBTeXN0ZW0gY3JlYXRpb24KCnRyeToKICAgIGltYWdlc19m\nb2xkZXIgPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5kaXJuYW1lKF9fZmlsZV9f\nKSwgJ2ltYWdlcycpCiAgICBzaW11bGF0aW9uc19mb2xkZXIgPSBvcy5wYXRo\nLmpvaW4ob3MucGF0aC5kaXJuYW1lKF9fZmlsZV9fKSwgJ3NpbXVsYXRpb25z\nJykKICAgIGdyYXBoc19mb2xkZXIgPSBvcy5wYXRoLmpvaW4ob3MucGF0aC5k\naXJuYW1lKF9fZmlsZV9fKSwgJ2dyYXBocycpCmV4Y2VwdDoKICAgIGltYWdl\nc19mb2xkZXIgPSBvcy5wYXRoLmpvaW4ob3MuZ2V0Y3dkKCksICdpbWFnZXMn\nKQogICAgc2ltdWxhdGlvbnNfZm9sZGVyID0gb3MucGF0aC5qb2luKG9zLmdl\ndGN3ZCgpLCAnc2ltdWxhdGlvbnMnKQogICAgZ3JhcGhzX2ZvbGRlciA9IG9z\nLnBhdGguam9pbihvcy5nZXRjd2QoKSwgJ2dyYXBocycpCiAgICAKc3RhZ2Vz\nX2ZpbGUgPSBvcy5wYXRoLmpvaW4oc2ltdWxhdGlvbnNfZm9sZGVyLCAnc3lz\ndGVtX3N0YWdlcy5qc29uJykKYmVuY2htYXJrX3N5c3RlbXNfMjAyNSA9ICgK\nICAgICdhY2V0aWNfYWNpZF9zaW1wbGUnLAogICAgJ2FjZXRpY19hY2lkX3Np\nbXBsZV9pZGVhbCcsCiAgICAnYWNldGljX2FjaWRfY29tcGxleCcsCiAgICAn\nYWNldGljX2FjaWRfY29tcGxleF9pZGVhbCcsCiAgICAnYnV0YW5vbF9wdXJp\nZmljYXRpb24nLAogICAgJ2hhYmVyX2Jvc2NoX3Byb2Nlc3MnLAopCmFsbF9z\neXN0ZW1zID0ge30Kc3lzdGVtX3RpdGxlcyA9IHt9CnN5c3RlbV9jb252ZXJn\nZW5jZV90aW1lcyA9IHt9CnN5c3RlbV90aWNrbWFya3MgPSB7fSAjIEtleTog\nY2xvc2V1cC1ib29sLCBuYW1lLXN0cgpzeXN0ZW1fbGFiZWxzID0ge30Kc3lz\ndGVtX3l0aWNrcyA9IHt9CnVuaXRzID0gc2V0KCkKdHJ5OgogICAgd2l0aCBv\ncGVuKHN0YWdlc19maWxlKSBhcyBmOiBzeXN0ZW1fc3RhZ2VzID0ganNvbi5s\nb2FkKGYpCmV4Y2VwdDoKICAgIHN5c3RlbV9zdGFnZXMgPSB7fQoKZGVmIHJl\nZ2lzdGVyKG5hbWUsIHRpdGxlLCB0aW1lLCB0aWNrbWFya3MsIGxhYmVsLCAK\nICAgICAgICAgICAgIHl0aWNrcz1Ob25lLCAKICAgICAgICAgICAgIGlkZWFs\nX3RpY2ttYXJrcz1Ob25lLCAKICAgICAgICAgICAgIGNsb3NldXBfaWRlYWxf\ndGlja21hcmtzPU5vbmUsCiAgICAgICAgICAgICBjbG9zZXVwX25vbmlkZWFs\nX3RpY2ttYXJrcz1Ob25lLAogICAgICAgICAgICAgZj1Ob25lLAogICAgICAg\nICAgICAgdW5pdD1GYWxzZSk6CiAgICBpZiBmIGlzIE5vbmU6IGYgPSBnZXRh\ndHRyKHN5c3RlbXMsICdjcmVhdGVfc3lzdGVtXycgKyBuYW1lLCBOb25lKSBv\nciBnZXRhdHRyKHN5c3RlbXMsICdjcmVhdGVfJyArIG5hbWUgKyAnX3N5c3Rl\nbScpCiAgICBpZiB5dGlja3MgaXMgTm9uZTogeXRpY2tzID0gWygtMTAsIC01\nLCAwLCA1KSwgKC0xMCwgLTUsIDAsIDUpXQogICAgaWYgbmFtZSBub3QgaW4g\nc3lzdGVtX3N0YWdlczogCiAgICAgICAgc3lzID0gZihOb25lKQogICAgICAg\nIHN5c3RlbV9zdGFnZXNbbmFtZV0gPSBsZW4oc3lzLnN0YWdlcykKICAgIGNy\nZWF0ZV9zeXN0ZW0gPSBmCiAgICBuYW1lX2ZzID0gWwogICAgICAgIChuYW1l\nLCBmKSwKICAgICAgICAobmFtZSArICdfaWRlYWwnLCBsYW1iZGEgKmFyZ3Ms\nICoqa3dhcmdzOiBjcmVhdGVfc3lzdGVtKCphcmdzLCBpZGVhbD1UcnVlLCAq\nKmt3YXJncykpLAogICAgXQogICAgZm9yIGksIGYgaW4gbmFtZV9mczoKICAg\nICAgICBhbGxfc3lzdGVtc1tpXSA9IGYKICAgICAgICBzeXN0ZW1fdGl0bGVz\nW2ldID0gdGl0bGUKICAgICAgICBzeXN0ZW1fY29udmVyZ2VuY2VfdGltZXNb\naV0gPSB0aW1lCiAgICAgICAgc3lzdGVtX2xhYmVsc1tpXSA9IGxhYmVsCiAg\nICAgICAgc3lzdGVtX3l0aWNrc1tpXSA9IHl0aWNrcwogICAgICAgIGlmIHVu\naXQ6IHVuaXRzLmFkZChpKQogICAgaWYgaWRlYWxfdGlja21hcmtzIGlzIE5v\nbmU6IGlkZWFsX3RpY2ttYXJrcyA9IHRpY2ttYXJrcwogICAgaWYgY2xvc2V1\ncF9pZGVhbF90aWNrbWFya3MgaXMgTm9uZTogY2xvc2V1cF9pZGVhbF90aWNr\nbWFya3MgPSBpZGVhbF90aWNrbWFya3MKICAgIGlmIGNsb3NldXBfbm9uaWRl\nYWxfdGlja21hcmtzIGlzIE5vbmU6IGNsb3NldXBfbm9uaWRlYWxfdGlja21h\ncmtzID0gdGlja21hcmtzCiAgICBzeXN0ZW1fdGlja21hcmtzW0ZhbHNlLCBu\nYW1lXSA9IHRpY2ttYXJrcwogICAgc3lzdGVtX3RpY2ttYXJrc1tGYWxzZSwg\nbmFtZSArICdfaWRlYWwnXSA9IGlkZWFsX3RpY2ttYXJrcwogICAgc3lzdGVt\nX3RpY2ttYXJrc1tUcnVlLCBuYW1lXSA9IGNsb3NldXBfbm9uaWRlYWxfdGlj\na21hcmtzCiAgICBzeXN0ZW1fdGlja21hcmtzW1RydWUsIG5hbWUgKyAnX2lk\nZWFsJ10gPSBjbG9zZXVwX2lkZWFsX3RpY2ttYXJrcwoKZGVmIGdldF9MTEVf\ncGFydGl0aW9uX2NvZWZmaWNpZW50cyhzeXMpOgogICAgcGFydGl0aW9uX2Nv\nZWZmaWNpZW50cyA9IHt9CiAgICB3aXRoIGNhdGNoX3dhcm5pbmdzKCk6CiAg\nICAgICAgZmlsdGVyd2FybmluZ3MoJ2lnbm9yZScpCiAgICAgICAgZl9zeXMg\nPSBhbGxfc3lzdGVtc1tzeXNdCiAgICAgICAgYnN0LkYuc2V0X2Zsb3dzaGVl\ndChzeXMpCiAgICAgICAgcG8gPSBmX3N5cygnU2VxdWVudGlhbCBtb2R1bGFy\nJykKICAgICAgICBwby5zZXRfdG9sZXJhbmNlKHJtb2w9MWUtNiwgbW9sPTFl\nLTYsIHN1YnN5c3RlbXM9VHJ1ZSwgbWV0aG9kPSdmaXhlZC1wb2ludCcsIAog\nICAgICAgICAgICAgICAgICAgICAgICAgbWF4aXRlcj0yMDApCiAgICAgICAg\ncG8uc2ltdWxhdGUoZGVzaWduX2FuZF9jb3N0PUZhbHNlKQogICAgICAgIGZv\nciBpIGluIHBvLnVuaXRzOgogICAgICAgICAgICBpZiBnZXRhdHRyKGksICdw\naGFzZXMnLCBOb25lKSA9PSAoJ0wnLCAnbCcpOgogICAgICAgICAgICAgICAg\naWYgaGFzYXR0cihpLCAnc3RhZ2VzJyk6CiAgICAgICAgICAgICAgICAgICAg\ncGFydGl0aW9uX2NvZWZmaWNpZW50c1tpLklEXSA9IG5wLmFycmF5KFtpLksg\nZm9yIGkgaW4gaS5zdGFnZXNdKQogICAgICAgICAgICAgICAgZWxzZToKICAg\nICAgICAgICAgICAgICAgICBwYXJ0aXRpb25fY29lZmZpY2llbnRzW2kuSURd\nID0gaS5LCiAgICByZXR1cm4gcGFydGl0aW9uX2NvZWZmaWNpZW50cwoKcmVn\naXN0ZXIoCiAgICAnYWNldGljX2FjaWRfY29tcGxleCcsICdSaWdvcm91cyBz\neXN0ZW0nLAogICAgOTAsIFswLCAxNywgMzQsIDUxLCA2OF0sICdBY09IXG5p\nbmR1c3RyaWFsXG5kZXdhdGVyaW5nJywgCiAgICBbKC0xNSwgLTEwLCAtNSwg\nMCwgNSksICgtMTUsIC0xMCwgLTUsIDAsIDUpXSwKICAgIGlkZWFsX3RpY2tt\nYXJrcz1bMCwgNiwgMTIsIDE4LCAyNF0sCiAgICBjbG9zZXVwX2lkZWFsX3Rp\nY2ttYXJrcz1bMCwgMC41LCAxLCAxLjUsIDIsIDIuNV0sCiAgICBjbG9zZXVw\nX25vbmlkZWFsX3RpY2ttYXJrcz1bMCwgNSwgMTAsIDE1LCAyMF0sCiAgICAj\nIFsoLTUsIC0yLjUsIDAsIDIuNSwgNSksICgtOCwgLTUsIC0yLCAxLCA0KV0s\nCikKcmVnaXN0ZXIoCiAgICAnYWNldGljX2FjaWRfc2ltcGxlJywgJ1N1YnN5\nc3RlbScsCiAgICAxMCwgCiAgICBbMCwgMS41LCAzLCA0LjUsIDZdLCAKICAg\nICdBY09IXG5wYXJ0aWFsXG5kZXdhdGVyaW5nJywKICAgIFsoLTE1LCAtMTAs\nIC01LCAwLCA1LCAxMCksICgtMTUsIC0xMCwgLTUsIDAsIDUsIDEwKV0sCiAg\nICBpZGVhbF90aWNrbWFya3M9WzAsIDAuNCwgMC44LCAxLjIsIDEuNl0sCiAg\nICBjbG9zZXVwX2lkZWFsX3RpY2ttYXJrcz1bMCwgMC4xLCAwLjIsIDAuMywg\nMC40LCAwLjUsIDAuNl0sCiAgICBjbG9zZXVwX25vbmlkZWFsX3RpY2ttYXJr\ncz1bMCwgMC4zLCAwLjYsIDAuOSwgMS4yLCAxLjVdLAogICAgIyBbKC0xNSwg\nLTEwLCAtNSwgMCwgNSwgMTApLCAoLTE1LCAtMTAsIC01LCAwLCA1LCAxMCld\nLAopCnJlZ2lzdGVyKAogICAgJ2FjZXRpY19hY2lkX2NvbXBsZXhfZGVjb3Vw\nbGVkJywgJ1Nob3J0Y3V0IHN5c3RlbScsCiAgICA2LCBbMCwgMC4yLCAwLjQs\nIDAuNiwgMC44LCAxXSwnQWNPSFxuc2hvcnRjdXRcbmRld2F0ZXJpbmcnLAog\nICAgWygtMTUsIC0xMCwgLTUsIDAsIDUpLCAoLTE1LCAtMTAsIC01LCAwLCA1\nKV0sCiAgICBpZGVhbF90aWNrbWFya3M9WzAuMSwgMC4yLCAwLjMsIDAuNF0s\nCikKIyByZWdpc3RlcigKIyAgICAgJ2FsY29ob2xfbmFycm93X2ZsYXNoJywg\nJ0FsY29ob2wgZmxhc2ggbmFycm93JywKIyAgICAgMC4wNSwgWzAuMDEsIDAu\nMDIsIDAuMDMsIDAuMDQsIDAuMDVdLCAnQWxjb2hvbFxuZmxhc2hcbm5hcnJv\ndycKIyApCiMgcmVnaXN0ZXIoCiMgICAgICdhbGNvaG9sX3dpZGVfZmxhc2gn\nLCAnQWxjb2hvbCBmbGFzaCB3aWRlJywKIyAgICAgMC4wNSwgWzAuMDEsIDAu\nMDIsIDAuMDMsIDAuMDQsIDAuMDVdLCAnQWxjb2hvbFxuZmxhc2hcbndpZGUn\nCiMgKQoKcmVnaXN0ZXIoCiAgICAnYnV0YW5vbF9wdXJpZmljYXRpb24nLCAn\nQnV0YW5vbCBwdXJpZmljYXRpb24nLAogICAgNiwgWzAsIDAuMSwgMC4yLCAw\nLjMsIDAuNF0sICdCdE9IXG5zZXBhcmF0aW9uJywKICAgIFsoLTE1LCAtMTAs\nIC01LCAwLCA1KSwgKC0xNSwgLTEwLCAtNSwgMCwgNSldLAopCnJlZ2lzdGVy\nKAogICAgJ2V0aGFub2xfcHVyaWZpY2F0aW9uJywgJ0V0aGFub2wgcHVyaWZp\nY2F0aW9uJywKICAgIDUsIFswLCAwLjAzLCAwLjA2LCAwLjA5LCAwLjEyXSwg\nJ0V0T0hcbnNlcGFyYXRpb24nLAogICAgWygtMTUsIC0xMCwgLTUsIDAsIDUp\nLCAoLTE1LCAtMTAsIC01LCAwLCA1KV0sCikKIyByZWdpc3RlcigKIyAgICAg\nJ2h5ZHJvY2FyYm9uX25hcnJvd19mbGFzaCcsICdIeWRyb2NhcmJvbiBmbGFz\naCBuYXJyb3cnLAojICAgICAwLjA1LCBbMC4wMSwgMC4wMiwgMC4wMywgMC4w\nNCwgMC4wNV0sICdBbGthbmVcbmZsYXNoXG5uYXJyb3cnCiMgKQojIHJlZ2lz\ndGVyKAojICAgICAnaHlkcm9jYXJib25fd2lkZV9mbGFzaCcsICdIeWRyb2Nh\ncmJvbiBmbGFzaCB3aWRlJywKIyAgICAgMC4xLCBbMC4wMiwgMC4wNCwgMC4w\nNiwgMC4wOCwgMC4xMF0sICdBbGthbmVcbmZsYXNoXG53aWRlJwojICkKcmVn\naXN0ZXIoCiAgICAnaGFiZXJfYm9zY2hfcHJvY2VzcycsICdIYWJlci1Cb3Nj\naCcsCiAgICAxLCBbMCwgMC4wMDYsIDAuMDEyLCAwLjAxOCwgMC4wMjRdLCAn\nSGFiZXItQm9zY2hcbmFtbW9uaWFcbnByb2R1Y3Rpb24nLAogICAgW1stMTAs\nIC03LjUsIC01LCAtMi41LCAwXSwgWy0xMCwgLTcuNSwgLTUsIC0yLjUsIDBd\nXSwKICAgIGNsb3NldXBfbm9uaWRlYWxfdGlja21hcmtzPVswLCAwLjAwNSwg\nMC4wMSwgMC4wMTUsIDAuMDJdLAopCgpyZWdpc3RlcigKICAgICdzdHJpcHBl\ncicsICdTdHJpcHBlcicsCiAgICAxLCBbMCwgMC4xLCAwLjIsIDAuMywgMC40\nLCAwLjVdLCAnU3RyaXBwZXInLAogICAgWygtMTUsIC0xMCwgLTUsIDAsIDUp\nLCAoLTE1LCAtMTAsIC01LCAwLCA1KV0sCiAgICB1bml0PVRydWUKKQoKcmVn\naXN0ZXIoCiAgICAnZmxhc2gnLCAnRmxhc2gnLAogICAgMC4wNSwgWzAsIDAu\nMDEsIDAuMDIsIDAuMDMsIDAuMDQsIDAuMDVdLCAnRmxhc2gnLAogICAgWygt\nMTUsIC0xMCwgLTUsIDAsIDUpLCAoLTE1LCAtMTAsIC01LCAwLCA1KV0sCiAg\nICB1bml0PVRydWUKKQoKd2l0aCBvcGVuKHN0YWdlc19maWxlLCAndycpIGFz\nIGZpbGU6IGpzb24uZHVtcChzeXN0ZW1fc3RhZ2VzLCBmaWxlKQoKIyAlJSBU\nZXN0aW5nCgpkZWYgdGVzdF9jb252ZXJnZW5jZShzeXN0ZW1zPU5vbmUsIGFs\nZ3M9Tm9uZSwgbWF4aXRlcj1Ob25lKToKICAgIGlmIHN5c3RlbXMgaXMgTm9u\nZTogc3lzdGVtcyA9IGxpc3QoYWxsX3N5c3RlbXMpCiAgICBlbGlmIGlzaW5z\ndGFuY2Uoc3lzdGVtcywgc3RyKTogc3lzdGVtcyA9IFtzeXN0ZW1zXQogICAg\nb3V0cyA9IFtdCiAgICBpZiBhbGdzIGlzIE5vbmU6IGFsZ3MgPSAoJ3BvJywg\nJ3NtJykKICAgIG5hbWVzID0gewogICAgICAgICdwbyc6ICdQaGVub21lbmEg\nYmFzZWQnLAogICAgICAgICdwbSc6ICdwaGVub21lbmEgbW9kdWxhcicsCiAg\nICAgICAgJ3NtJzogJ3NlcXVlbnRpYWwgbW9kdWxhcicsCiAgICB9CiAgICB3\naXRoIGNhdGNoX3dhcm5pbmdzKCk6CiAgICAgICAgZmlsdGVyd2FybmluZ3Mo\nJ2lnbm9yZScpCiAgICAgICAgdGltZSA9IGJzdC5UaW1lcigpCiAgICAgICAg\nZm9yIHN5cyBpbiBzeXN0ZW1zOgogICAgICAgICAgICBmX3N5cyA9IGFsbF9z\neXN0ZW1zW3N5c10KICAgICAgICAgICAgbmV3ID0gW10KICAgICAgICAgICAg\ncHJpbnQoc3lzKQogICAgICAgICAgICBmb3IgYWxnIGluIGFsZ3M6CiAgICAg\nICAgICAgICAgICBuYW1lID0gbmFtZXNbYWxnXQogICAgICAgICAgICAgICAg\nYnN0LkYuc2V0X2Zsb3dzaGVldChhbGcpCiAgICAgICAgICAgICAgICBwbyA9\nIGZfc3lzKG5hbWUpCiAgICAgICAgICAgICAgICBwby50cmFja19jb252ZXJn\nZW5jZSgpCiAgICAgICAgICAgICAgICBpZiBhbGcgPT0gJ3BvJzoKICAgICAg\nICAgICAgICAgICAgICBtYXhpdGVyID0gNTAwCiAgICAgICAgICAgICAgICBl\nbHNlOgogICAgICAgICAgICAgICAgICAgIG1heGl0ZXIgPSAxMDAKICAgICAg\nICAgICAgICAgIHBvLnNldF90b2xlcmFuY2Uocm1vbD0xZS02LCBtb2w9MWUt\nNiwgc3Vic3lzdGVtcz1UcnVlLCBtZXRob2Q9J2ZpeGVkLXBvaW50JywgCiAg\nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGl0ZXI9bWF4aXRl\nciBpZiBtYXhpdGVyIGlzIE5vbmUgZWxzZSBtYXhpdGVyKQogICAgICAgICAg\nICAgICAgdGltZS5zdGFydCgpCiAgICAgICAgICAgICAgICBwby5zaW11bGF0\nZShkZXNpZ25fYW5kX2Nvc3Q9RmFsc2UpCiAgICAgICAgICAgICAgICBwcmlu\ndChmJy0ge25hbWUuY2FwaXRhbGl6ZSgpfScsIHRpbWUubWVhc3VyZSgpKQog\nICAgICAgICAgICAgICAgcG8uc2hvdygpCiAgICAgICAgICAgICAgICBuZXcu\nYXBwZW5kKHBvKQogICAgICAgICAgICBvdXRzLmFwcGVuZChuZXcpCiAgICAg\nICAgICAgIGxlZnQsIHJpZ2h0ID0gbmV3CiAgICAgICAgICAgIGZvciBzX3Nt\nLCBzX2RwIGluIHppcChsZWZ0LnN0cmVhbXMsIHJpZ2h0LnN0cmVhbXMpOgog\nICAgICAgICAgICAgICAgIyBhc3NlcnQgc19zbS5ub2RlX3RhZyA9PSBzX2Rw\nLm5vZGVfdGFnCiAgICAgICAgICAgICAgICBhY3R1YWwgPSBzX3NtLm1vbAog\nICAgICAgICAgICAgICAgdmFsdWUgPSBzX2RwLm1vbAogICAgICAgICAgICAg\nICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGFzc2VydF9hbGxjbG9zZShh\nY3R1YWwsIHZhbHVlLCBydG9sPTAuMDEsIGF0b2w9MC4wMSkKICAgICAgICAg\nICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICBpZiBzX3NtLnNv\ndXJjZToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZictIE11bHRp\ncGxlIHN0ZWFkeSBzdGFnZXMgZm9yIHtzX3NtfSwge3Nfc20uc291cmNlfS17\nc19zbS5zb3VyY2Uub3V0cy5pbmRleChzX3NtKX06IEwte2FjdHVhbH0gUi17\ndmFsdWV9JykKICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAg\nICAgICAgICAgICAgICBwcmludChmJy0gTXVsdGlwbGUgc3RlYWR5IHN0YWdl\ncyBmb3Ige3Nfc219LCB7c19zbS5zaW5rLmlucy5pbmRleChzX3NtKX0te3Nf\nc20uc2lua306IEwte2FjdHVhbH0gUi17dmFsdWV9JykKICAgIHJldHVybiBv\ndXRzCgojICUlIFN0cmVhbSB0YWJsZXMgYW5kIHNwZWNpZmljYXRpb25zCgoj\nIGRlZiBzYXZlX3N0cmVhbV90YWJsZXNfYW5kX3NwZWNpZmljYXRpb25zKHN5\nc3RlbXM9Tm9uZSk6CiMgICAgIGlmIHN5c3RlbXMgaXMgTm9uZTogc3lzdGVt\ncyA9IGxpc3QoYWxsX3N5c3RlbXMpCiMgICAgIGZvciBzeXMgaW4gc3lzdGVt\nczoKIyAgICAgICAgIHBvID0gVHJhY2tlcihzeXMsICdQaGVub21lbmEgYmFz\nZWQnKQojICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoNTApOiBwby5ydW4oKQoj\nICAgICAgICAgd2l0aCBwby5zeXN0ZW0uc3RhZ2VfY29uZmlndXJhdGlvbigp\nIGFzIGNvbmY6CiMgICAgICAgICAgICAgZm9yIGkgaW4gY29uZi5zdHJlYW1z\nOgojICAgICAgICAgICAgICAgICBpZiBpLklEID09ICcnOiBpLklEID0gJycK\nIyAgICAgICAgIG5hbWUgPSBzeXN0ZW1fbGFiZWxzW3N5c10ucmVwbGFjZSgn\nXG4nLCAnICcpCiMgICAgICAgICBmaWxlX25hbWUgPSBmJ3tuYW1lfS54bHN4\nJwojICAgICAgICAgZmlsZSA9IG9zLnBhdGguam9pbihzaW11bGF0aW9uc19m\nb2xkZXIsIGZpbGVfbmFtZSkKIyAgICAgICAgIHBvLnN5c3RlbS5zYXZlX3Jl\ncG9ydCgKIyAgICAgICAgICAgICBmaWxlPWZpbGUsCiMgICAgICAgICAgICAg\nc2hlZXRzPXsKIyAgICAgICAgICAgICAgICAgJ0Zsb3dzaGVldCcsCiMgICAg\nICAgICAgICAgICAgICdTdHJlYW0gdGFibGUnLAojICAgICAgICAgICAgICAg\nICAnU3BlY2lmaWNhdGlvbnMnLAojICAgICAgICAgICAgICAgICAnUmVhY3Rp\nb25zJywKIyAgICAgICAgICAgICB9LAojICAgICAgICAgICAgIHN0YWdlPVRy\ndWUsCiMgICAgICAgICApCgoKIyAlJSBDb252ZXJnZW5jZSB0aW1lCgpkZWYg\nY29udmVyZ2VuY2VfdGltZShzbSwgcG8pOgogICAgeXNtID0gbnAuYXJyYXko\nc20pCiAgICB5cG8gPSBucC5hcnJheShwbykKICAgIGN1dG9mZiA9IHlzbS5t\naW4oKSArIDEKICAgIHNtX2luZGV4ID0gc3VtKHlzbSA+IGN1dG9mZikKICAg\nIHBvX2luZGV4ID0gc3VtKHlwbyA+IGN1dG9mZikKICAgIHJldHVybiBzbVsn\nVGltZSddW3NtX2luZGV4XSwgcG9bJ1RpbWUnXVtwb19pbmRleF0KCgojICUl\nIEdyYXBoLXRoZW9yZXRpYyByZXByZXNlbnRhdGlvbiBvZiBjb252ZXJnZW5j\nZQoKZGVmIGdldF9waGVub21lZ3JhcGgoCiAgICAgICAgc3lzdGVtPU5vbmUs\nIGFsZ29yaXRobT1Ob25lLCBsb2FkPVRydWUsIHNhdmU9VHJ1ZSwKICAgICAg\nICBzaW11bGF0ZT1UcnVlLCBiaXBhcnRpdGU9VHJ1ZSwgbmV3X2dyYXBoPUZh\nbHNlLCBtb2NrPVRydWUsCiAgICAgICAgY29udmVyZ2VuY2VfcmF0ZT0yNSwK\nICAgICk6CiAgICBic3QuTXVsdGlTdGFnZUVxdWlsaWJyaXVtLm1heF9hdHRl\nbXB0cyA9IDAgIyBGb3IgY29uc2lzdGVudCB0cmFja2luZwogICAgaWYgc3lz\ndGVtIGlzIE5vbmU6IHN5c3RlbSA9ICdhY2V0aWNfYWNpZF9zaW1wbGUnCiAg\nICBpZiBhbGdvcml0aG0gaXMgTm9uZTogYWxnb3JpdGhtID0gJ1BoZW5vbWVu\nYSBiYXNlZCcKICAgIGFsZyA9IGFsZ29yaXRobS5yZXBsYWNlKCcgJywgJ18n\nKS5yZXBsYWNlKCctJywgJ18nKQogICAgZmlsZSA9IG9zLnBhdGguam9pbihn\ncmFwaHNfZm9sZGVyLCBmIntzeXN0ZW19X3thbGd9IikKICAgIGlmIG5vdCBi\naXBhcnRpdGU6IGZpbGUgKz0gJ19tb25vcGFydGl0ZScKICAgIGlmIG5ld19n\ncmFwaDoKICAgICAgICBkb3RmaWxlID0gTm9uZQogICAgZWxzZToKICAgICAg\nICBkb3RmaWxlID0gdG1vLkRvdEZpbGUob3MucGF0aC5qb2luKGdyYXBoc19m\nb2xkZXIsIHN5c3RlbSkpCiAgICBpZiBsb2FkOgogICAgICAgIHRyeToKICAg\nICAgICAgICAgd2l0aCBvcGVuKGZpbGUsICdyYicpIGFzIGY6IHBoZW5vbWVu\nYV9ncmFwaCA9IHBpY2tsZS5sb2FkKGYpCiAgICAgICAgZXhjZXB0IEV4Y2Vw\ndGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChlKQogICAgICAgICAgICBy\nZXR1cm4gZ2V0X3BoZW5vbWVncmFwaCgKICAgICAgICAgICAgICAgIHN5c3Rl\nbT1zeXN0ZW0sIGFsZ29yaXRobT1hbGdvcml0aG0sCiAgICAgICAgICAgICAg\nICBsb2FkPUZhbHNlLCBzYXZlPXNhdmUsIGJpcGFydGl0ZT1iaXBhcnRpdGUs\nCiAgICAgICAgICAgICAgICBuZXdfZ3JhcGg9bmV3X2dyYXBoLCBzaW11bGF0\nZT1zaW11bGF0ZSwKICAgICAgICAgICAgKQogICAgZWxzZToKICAgICAgICBi\nc3QuRi5jbGVhcigpCiAgICAgICAgc3lzID0gYWxsX3N5c3RlbXNbc3lzdGVt\nXShhbGdvcml0aG0pCiAgICAgICAgaWYgbW9jazoKICAgICAgICAgICAgc3lz\nLm1vY2tfY29udmVyZ2VuY2UoY29udmVyZ2VuY2VfcmF0ZT1jb252ZXJnZW5j\nZV9yYXRlKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN5cy5zZXRfdG9s\nZXJhbmNlKAogICAgICAgICAgICAgICAgbW9sPTFlLTIsCiAgICAgICAgICAg\nICAgICBybW9sPTFlLTIsCiAgICAgICAgICAgICAgICBtYXhpdGVyPTUwMCwK\nICAgICAgICAgICAgICAgIG1ldGhvZD0nZml4ZWQtcG9pbnQnLAogICAgICAg\nICAgICAgICAgc3Vic3lzdGVtcz1UcnVlLAogICAgICAgICAgICApCiAgICAg\nICAgICAgIGlmIHNpbXVsYXRlOgogICAgICAgICAgICAgICAgc3lzLnRyYWNr\nX2NvbnZlcmdlbmNlKAogICAgICAgICAgICAgICAgICAgIFRydWUsIAogICAg\nICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgc3lzLnNpbXVsYXRlKCkK\nICAgICAgICBwaGVub21lbmFfZ3JhcGggPSBzeXMuZ2V0X3BoZW5vbWVncmFw\naCgKICAgICAgICAgICAgZG90ZmlsZT1kb3RmaWxlLCBiaXBhcnRpdGU9Ymlw\nYXJ0aXRlLAogICAgICAgICkKICAgICAgICBpZiBzYXZlOgogICAgICAgICAg\nICBpZiBub3Qgc2ltdWxhdGU6IGZpbGUgKz0gJ19ub3NpbScKICAgICAgICAg\nICAgc3lzLnRyYWNrX2NvbnZlcmdlbmNlKEZhbHNlKQogICAgICAgICAgICB3\naXRoIG9wZW4oZmlsZSwgJ3diJykgYXMgZjogcGlja2xlLmR1bXAocGhlbm9t\nZW5hX2dyYXBoLCBmKQogICAgcmV0dXJuIHBoZW5vbWVuYV9ncmFwaAoKZGVm\nIGNyZWF0ZV9ncmFwaHMoc3lzdGVtPU5vbmUsIGJpcGFydGl0ZT1UcnVlLCBh\nbGdvcml0aG1zPU5vbmUpOgogICAgaWYgc3lzdGVtIGlzIE5vbmU6IHN5c3Rl\nbSA9ICdhY2V0aWNfYWNpZF9zaW1wbGUnCiAgICBpZiBhbGdvcml0aG1zIGlz\nIE5vbmU6IAogICAgICAgIGlmIHN5c3RlbSBpbiB1bml0czoKICAgICAgICAg\nICAgYWxnb3JpdGhtcyA9ICgnUGhlbm9tZW5hIGJhc2VkJywpCiAgICAgICAg\nZWxzZToKICAgICAgICAgICAgYWxnb3JpdGhtcyA9ICgnc2VxdWVudGlhbCBt\nb2R1bGFyJywgJ1BoZW5vbWVuYSBiYXNlZCcpCiAgICBlbGlmIGlzaW5zdGFu\nY2UoYWxnb3JpdGhtcywgc3RyKTogYWxnb3JpdGhtcyA9IFthbGdvcml0aG1z\nXQogICAgaGVhZGVyID0gc3lzdGVtCiAgICBpZiBub3QgYmlwYXJ0aXRlOiBo\nZWFkZXIgKz0gJ19tb25vcGFydGl0ZScKICAgIGZpcnN0ID0gVHJ1ZQogICAg\nZm9yIGFsZ29yaXRobSBpbiBhbGdvcml0aG1zOgogICAgICAgIGdyYXBoID0g\nZ2V0X3BoZW5vbWVncmFwaChzeXN0ZW0sIGFsZ29yaXRobT1hbGdvcml0aG0s\nIHNpbXVsYXRlPUZhbHNlLCBuZXdfZ3JhcGg9RmFsc2UpCiAgICAgICAgaWYg\nZmlyc3Q6CiAgICAgICAgICAgIGZpbGUgPSBvcy5wYXRoLmpvaW4oZ3JhcGhz\nX2ZvbGRlciwgZiJ7aGVhZGVyfV9ncmFwaC5wbmciKQogICAgICAgICAgICBn\ncmFwaC53cml0ZShmaWxlKQogICAgICAgIGZvciBzdWJncmFwaCBpbiBncmFw\naC5zdWJncmFwaHM6CiAgICAgICAgICAgIF8sIG5hbWUgPSBzdWJncmFwaC5u\nYW1lLnNwbGl0KCcuJykKICAgICAgICAgICAgZmlsZSA9IG9zLnBhdGguam9p\nbihncmFwaHNfZm9sZGVyLCBmIntoZWFkZXJ9X3N1YmdyYXBoX3tuYW1lfS5w\nbmciKQogICAgICAgICAgICBzdWJncmFwaC53cml0ZShmaWxlKQogICAgICAg\nIApkZWYgY3JlYXRlX2NvbnZlcmdlbmNlX3Bsb3QoCiAgICAgICAgc3lzdGVt\nPU5vbmUsIGFsZ29yaXRobT1Ob25lLCBsb2FkPVRydWUsIHNhdmU9VHJ1ZSwK\nICAgICk6CiAgICBpZiBzeXN0ZW0gaXMgTm9uZTogc3lzdGVtID0gJ2FjZXRp\nY19hY2lkX3NpbXBsZScKICAgIGlmIGFsZ29yaXRobSBpcyBOb25lOiBhbGdv\ncml0aG0gPSAnUGhlbm9tZW5hIGJhc2VkJwogICAgYWxnID0gYWxnb3JpdGht\nLnJlcGxhY2UoJyAnLCAnXycpLnJlcGxhY2UoJy0nLCAnXycpCiAgICBwaGVu\nb21lbmFfZ3JhcGggPSBnZXRfcGhlbm9tZWdyYXBoKAogICAgICAgIHN5c3Rl\nbT1zeXN0ZW0sIGFsZ29yaXRobT1hbGdvcml0aG0sIAogICAgICAgIGxvYWQ9\nbG9hZCwgc2F2ZT1zYXZlLCAKICAgICkKICAgIGZpbGUgPSBvcy5wYXRoLmpv\naW4oZ3JhcGhzX2ZvbGRlciwgZiJ7c3lzdGVtfV97YWxnfSIpCiAgICByZXR1\ncm4gcGhlbm9tZW5hX2dyYXBoLnBsb3RfY29udmVyZ2VuY2VfcHJvZmlsZShm\naWxlPWZpbGUpCgpkZWYgY3JlYXRlX2dyYXBoX3RoZW9yZXRpY19jb252ZXJn\nZW5jZV9naWYoCiAgICAgICAgc3lzdGVtPU5vbmUsIGFsZ29yaXRobT1Ob25l\nLCBsb2FkPVRydWUsIHNhdmU9VHJ1ZSwgCiAgICAgICAgZnBzPTMsIG5ld19n\ncmFwaD1GYWxzZSwgbW9jaz1UcnVlLCBjb252ZXJnZW5jZV9yYXRlPTI1LAog\nICAgKToKICAgIGlmIHN5c3RlbSBpcyBOb25lOiBzeXN0ZW0gPSAnYWNldGlj\nX2FjaWRfc2ltcGxlJwogICAgaWYgYWxnb3JpdGhtIGlzIE5vbmU6IGFsZ29y\naXRobSA9ICdQaGVub21lbmEgYmFzZWQnCiAgICBhbGcgPSBhbGdvcml0aG0u\ncmVwbGFjZSgnICcsICdfJykucmVwbGFjZSgnLScsICdfJykKICAgIGJpcGFy\ndGl0ZV9ncmFwaCA9IGdldF9waGVub21lZ3JhcGgoCiAgICAgICAgc3lzdGVt\nPXN5c3RlbSwgYWxnb3JpdGhtPWFsZ29yaXRobSwgbmV3X2dyYXBoPW5ld19n\ncmFwaCwKICAgICAgICBsb2FkPWxvYWQsIHNhdmU9VHJ1ZSwgYmlwYXJ0aXRl\nPVRydWUsIG1vY2s9bW9jaywgY29udmVyZ2VuY2VfcmF0ZT1jb252ZXJnZW5j\nZV9yYXRlLAogICAgKQogICAgYWdncmVnYXRlZF9ncmFwaCA9IGdldF9waGVu\nb21lZ3JhcGgoCiAgICAgICAgc3lzdGVtPXN5c3RlbSwgYWxnb3JpdGhtPWFs\nZ29yaXRobSwgbmV3X2dyYXBoPW5ld19ncmFwaCwKICAgICAgICBsb2FkPWxv\nYWQsIHNhdmU9c2F2ZSwgYmlwYXJ0aXRlPUZhbHNlLCBtb2NrPW1vY2ssIGNv\nbnZlcmdlbmNlX3JhdGU9Y29udmVyZ2VuY2VfcmF0ZSwKICAgICkKICAgIHJl\nZmVyZW5jZSA9IHtlcS5uYW1lOiBuIGZvciBuLCBub2RlcyBpbiBlbnVtZXJh\ndGUoYWdncmVnYXRlZF9ncmFwaC5waGVub21lbm9kZXMpIGZvciBlcSBpbiBu\nb2Rlcy5lcXVhdGlvbnN9CiAgICBmaWxlID0gb3MucGF0aC5qb2luKGdyYXBo\nc19mb2xkZXIsIGYie3N5c3RlbX1fe2FsZ31fZ3JhcGgiKQogICAgCiAgICBi\naXBhcnRpdGVfZ3JhcGguY29udmVyZ2VuY2VfZ2lmKAogICAgICAgIHRpbWU9\nYWdncmVnYXRlZF9ncmFwaC50aW1lLAogICAgICAgIHByb2ZpbGVzPWFnZ3Jl\nZ2F0ZWRfZ3JhcGgucHJvZmlsZXMsCiAgICAgICAgcmVmZXJlbmNlPXJlZmVy\nZW5jZSwKICAgICAgICBmaWxlPWZpbGUsIGZwcz1mcHMsIAogICAgKQogICAg\nZm9yIGksIHBnIGluIGVudW1lcmF0ZShiaXBhcnRpdGVfZ3JhcGguc3ViZ3Jh\ncGhzKToKICAgICAgICBwZy5jb252ZXJnZW5jZV9naWYoZmlsZT1mJ3tmaWxl\nfV97aX0nLCBmcHM9ZnBzLCAKICAgICAgICAgICAgICAgICAgICAgICAgICAg\ncHJvZmlsZXM9YWdncmVnYXRlZF9ncmFwaC5wcm9maWxlcywKICAgICAgICAg\nICAgICAgICAgICAgICAgICAgdGltZT1hZ2dyZWdhdGVkX2dyYXBoLnRpbWUs\nCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZT1yZWZlcmVu\nY2UpCiAgICAKZGVmIGNyZWF0ZV9jb252ZXJnZW5jZV9naWYoCiAgICAgICAg\nc3lzdGVtPU5vbmUsIGFsZ29yaXRobT1Ob25lLCBsb2FkPUZhbHNlLCAKICAg\nICAgICBmcHM9MywgbmV3X2dyYXBoPUZhbHNlLAogICAgICAgIG1vY2s9VHJ1\nZSwgY29udmVyZ2VuY2VfcmF0ZT0yNSwKICAgICk6CiAgICBwbHQuc3R5bGUu\ndXNlKCdkYXJrX2JhY2tncm91bmQnKQogICAgcGx0LnJjUGFyYW1zLnVwZGF0\nZSh7CiAgICAgICAgImZpZ3VyZS5mYWNlY29sb3IiOiAgKDAuMCwgMC4wLCAw\nLjAsIDApLCAgIyByZWQgICB3aXRoIGFscGhhID0gMzAlCiAgICAgICAgImF4\nZXMuZmFjZWNvbG9yIjogICAgKDAuMCwgMC4wLCAwLjAsIDEpLCAgIyBncmVl\nbiB3aXRoIGFscGhhID0gNTAlCiAgICAgICAgInNhdmVmaWcuZmFjZWNvbG9y\nIjogKDAuMCwgMC4wLCAwLjAsIDApLCAgIyBibHVlICB3aXRoIGFscGhhID0g\nMjAlCiAgICB9KQogICAgZnMgPSA5CiAgICBic3Quc2V0X2ZvbnQoZnMpCiAg\nICBuX3Jvd3MgPSAxCiAgICBuX2NvbHMgPSAxCiAgICBic3Quc2V0X2ZpZ3Vy\nZV9zaXplKGFzcGVjdF9yYXRpbz0xLjEgLyBuX2NvbHMsIHdpZHRoPSdoYWxm\nJykKICAgIGZpZywgYXggPSBwbHQuc3VicGxvdHMobl9yb3dzLCBuX2NvbHMp\nCiAgICBwcm9maWxlcyA9IGdldF92YXJpYWJsZV9wcm9maWxlcyhzeXN0ZW0s\nIGFsZ29yaXRobSwgbnVtYmVyPTEwMCwgbG9hZD1sb2FkLCBtb2NrPVRydWUs\nIGNvbnZlcmdlbmNlX3JhdGU9Y29udmVyZ2VuY2VfcmF0ZSkKICAgIHRpbWUg\nPSBwcm9maWxlc1sndGltZSddCiAgICB0aW1lID0gdGltZSAtIHRpbWVbMF0g\nCiAgICBjYXRlZ29yaWVzID0gW2kgZm9yIGkgaW4gcHJvZmlsZXMua2V5cygp\nIGlmIGkgIT0gJ3RpbWUnXQogICAgeXRpY2tzID0gWzAsIDIwLCA0MCwgNjAs\nIDgwLCAxMDBdCiAgICB2bGluZSwgPSBwbHQucGxvdChbMCwgMF0sIFswLCAx\nMDJdLCBjb2xvcj0nI0U3RTZFNicpCiAgICBmb3IgY2F0ZWdvcnkgaW4gY2F0\nZWdvcmllczoKICAgICAgICB5ID0gcHJvZmlsZXNbY2F0ZWdvcnldCiAgICAg\nICAgeSAtPSB5Lm1pbigpCiAgICAgICAgeSAqPSAxMDAgLyB5Lm1heCgpCiAg\nICAgICAgY29sb3IgPSBwaGVub21lbmFfY29sb3JzW2NhdGVnb3J5LnNwbGl0\nKCdfJylbMF1dCiAgICAgICAgcGx0LnNjYShheCkKICAgICAgICBwbHQuc3Rl\ncCh0aW1lLCB5LCAnLScsIGNvbG9yPWNvbG9yLCBsdz0yLCB3aGVyZT0ncG9z\ndCcsIGFscGhhPTEpCiAgICAgICAgIyBwbHQuc3RlcCh0aW1lLCB5LCBsdz0w\nLCBtYXJrZXI9Jy4nLCBjb2xvcj1jb2xvciwgbWFya2Vyc2l6ZT0xLCB3aGVy\nZT0ncG9zdCcpCiAgICBwbHQueGxpbSh0aW1lWzBdLCB0aW1lWy0xXSkKICAg\nIHBsdC55bGltKHl0aWNrc1swXSwgeXRpY2tzWy0xXSArIDIpCiAgICBheC54\nYXhpcy5zZXRfbWFqb3JfbG9jYXRvcih0aWNrZXIuTWF4TkxvY2F0b3IoNCwg\naW50ZWdlcj1UcnVlKSkKICAgIHBsdC55bGFiZWwoJ01TRSBbJV0nKQogICAg\ncGx0LnhsYWJlbCgnSXRlcmF0aW9uJykKICAgIGJzdC51dGlscy5zdHlsZV9h\neGlzKAogICAgICAgIGF4LCB5dGlja3M9eXRpY2tzLCAKICAgICkKICAgIGxl\nZnQgPSAwLjEKICAgIHRvcCA9IDAuODUKICAgIGlmIG5fcm93cyA9PSAyOgog\nICAgICAgIGxlZnQgPSAwLjI1CiAgICAgICAgYm90dG9tID0gMC4xCiAgICBl\nbGlmIG5fcm93cyA9PSAxOgogICAgICAgIGJvdHRvbSA9IDAuMTUKICAgICAg\nICBpZiBuX2NvbHMgPT0gMToKICAgICAgICAgICAgbGVmdCA9IDAuMjUKICAg\nICAgICAgICAgdG9wID0gMC45MAogICAgICAgICAgICBib3R0b20gPSAwLjIK\nICAgIGVsc2U6CiAgICAgICAgYm90dG9tID0gMC4wOAogICAgcGx0LnN1YnBs\nb3RzX2FkanVzdChyaWdodD0wLjk2LCBsZWZ0PWxlZnQsIGJvdHRvbT1ib3R0\nb20sIHRvcD10b3AsIGhzcGFjZT0wLCB3c3BhY2U9MCkKICAgIE5fZnJhbWVz\nID0gbWF4KDUgKiBsZW4odGltZSksIDIwMCkKICAgIHNjYWxlID0gbGVuKHRp\nbWUpIC8gTl9mcmFtZXMKICAgIGRlZiB1cGRhdGUoZnJhbWUpOgogICAgICAg\nIHggPSBmcmFtZSAqIHNjYWxlCiAgICAgICAgdmxpbmUuc2V0X2RhdGEoW3gs\nIHhdLCBbMCwgMTAyXSkKICAgICAgICByZXR1cm4gKHZsaW5lLCkKICAgIAog\nICAgZnBzIC89IHNjYWxlCiAgICBhbmkgPSBhbmltYXRpb24uRnVuY0FuaW1h\ndGlvbigKICAgICAgICBmaWc9ZmlnLCAKICAgICAgICBmdW5jPXVwZGF0ZSwg\nCiAgICAgICAgZnJhbWVzPU5fZnJhbWVzLCAKICAgICAgICBpbnRlcnZhbD1m\ncHMsCiAgICApCiAgICBwbHQuc2hvdygpCiAgICBmaWxlID0gb3MucGF0aC5q\nb2luKGltYWdlc19mb2xkZXIsIGYie3N5c3RlbX1fe2FsZ29yaXRobX0iKQog\nICAgZHVyYXRpb24gPSBbMTAwMCAvIGZwc10gKiBOX2ZyYW1lcwogICAgZHVy\nYXRpb25bLTFdICs9IDUwMDAgCiAgICBwcmludChzdW0oZHVyYXRpb24pIC8g\nMTAwMCkKICAgIHdyaXR0ZXIgPSBhbmltYXRpb24uUGlsbG93V3JpdGVyKGZw\ncz1mcHMpCiAgICB3cml0dGVyLmRwaSA9IDMwMAogICAgZGVmIGZpbmlzaCgp\nOgogICAgICAgIHdyaXR0ZXIuX2ZyYW1lc1swXS5zYXZlKAogICAgICAgICAg\nICB3cml0dGVyLm91dGZpbGUsIGZvcm1hdD0nR0lGJywgc2F2ZV9hbGw9VHJ1\nZSwgYXBwZW5kX2ltYWdlcz13cml0dGVyLl9mcmFtZXNbMTpdLAogICAgICAg\nICAgICBkdXJhdGlvbj1kdXJhdGlvbiwgbG9vcD0xLCBvcHRpbWl6ZT1GYWxz\nZSwKICAgICAgICApCiAgICB3cml0dGVyLmZpbmlzaCA9IGZpbmlzaAogICAg\nYW5pLnNhdmUoCiAgICAgICAgZmlsZW5hbWU9ZmlsZSArICcuZ2lmJywgCiAg\nICAgICAgd3JpdGVyPXdyaXR0ZXIsIAogICAgKQogICAgcmV0dXJuIGFuaQog\nICAgCiAgICAKICAgICMgZm9yIGkgaW4gKCdzdmcnLCAncG5nJyk6CiAgICAj\nICAgICBuYW1lID0gZidwcm9maWxlLntpfScKICAgICMgICAgIGZpbGUgPSBv\ncy5wYXRoLmpvaW4oaW1hZ2VzX2ZvbGRlciwgbmFtZSkKICAgICMgICAgIHBs\ndC5zYXZlZmlnKGZpbGUsIGRwaT05MDAsIHRyYW5zcGFyZW50PVRydWUpCiAg\nICAjIGZvciBpIGluICgnc3ZnJywgJ3BuZycpOgogICAgIyAgICAgc3lzdGVt\nX25hbWVzID0gJ18nLmpvaW4oc3lzdGVtcykKICAgICMgICAgIG5hbWUgPSBm\nJ3tzeXN0ZW1fbmFtZXN9X3Byb2ZpbGUue2l9JwogICAgIyAgICAgZmlsZSA9\nIG9zLnBhdGguam9pbihpbWFnZXNfZm9sZGVyLCBuYW1lKQogICAgIyAgICAg\ncGx0LnNhdmVmaWcoZmlsZSwgZHBpPTkwMCwgdHJhbnNwYXJlbnQ9VHJ1ZSkK\nCgojICUlIFByb2ZpbGluZyBhbmQgYmVuY2htYXJraW5nIHV0aWxpdGllcwoK\nY2F0ZWdvcmllcyA9ICgKICAgICdtYXRlcmlhbCcsICdlbmVyZ3knLCAndmxl\nJywgJ2xsZScsCiAgICAncmVhY3Rpb24nLCAnY29tcHJlc3Npb24nLCAnc2hv\ncnRjdXQnCikKCmRlZiBjcmVhdGVfdHJhY2tlZF9zeXN0ZW0obmFtZSwgYWxn\nb3JpdGhtLCB0aW1lPU5vbmUpOgogICAgYnN0LkYuc2V0X2Zsb3dzaGVldCgn\ndGVtcCcsIG5ldz1UcnVlKQogICAgc3lzID0gYWxsX3N5c3RlbXNbbmFtZV0o\nYWxnb3JpdGhtKQogICAgc3lzLl9zZXR1cF91bml0cygpCiAgICBzeXMudHJh\nY2tfY29udmVyZ2VuY2UoKQogICAgc3lzLnNldF90b2xlcmFuY2UoCiAgICAg\nICAgbWF4dGltZT10aW1lIG9yIHN5c3RlbV9jb252ZXJnZW5jZV90aW1lc1tu\nYW1lXSwgCiAgICAgICAgbWV0aG9kPSdmaXhlZC1wb2ludCcsCiAgICAgICAg\nbW9sPTAsIHJtb2w9MCwKICAgICAgICBUPTAsIHJUPTAsCiAgICAgICAgbWF4\naXRlcj1pbnQoMWUxNiksCiAgICApCiAgICByZXR1cm4gc3lzCiAgICAKZGVm\nIGdldF9zdGVhZHlfc3RhdGUobmFtZSwgbG9hZD1UcnVlKToKICAgIGZpbGVf\nbmFtZSA9IGYie25hbWV9X3NlcXVlbnRpYWwgbW9kdWxhcl8wIgogICAgZmls\nZSA9IG9zLnBhdGguam9pbihzaW11bGF0aW9uc19mb2xkZXIsIGZpbGVfbmFt\nZSkKICAgIGJzdC5GLmNsZWFyKCkKICAgIGlmIGxvYWQ6CiAgICAgICAgdHJ5\nOgogICAgICAgICAgICB3aXRoIG9wZW4oZmlsZSwgJ3JiJykgYXMgZjogCiAg\nICAgICAgICAgICAgICB0aW1lLCB2YXJpYWJsZV9wcm9maWxlcyA9IHBpY2ts\nZS5sb2FkKGYpCiAgICAgICAgZXhjZXB0OiAKICAgICAgICAgICAgcmV0dXJu\nIGdldF9zdGVhZHlfc3RhdGUobmFtZSwgRmFsc2UpCiAgICBlbHNlOgogICAg\nICAgIHN5cyA9IGNyZWF0ZV90cmFja2VkX3N5c3RlbShuYW1lLCAnc2VxdWVu\ndGlhbCBtb2R1bGFyJykgCiAgICAgICAgc3lzLnNpbXVsYXRlKGRlc2lnbl9h\nbmRfY29zdD1GYWxzZSkKICAgICAgICBzeXMuYXNzZXJ0X3RyYWNraW5nX29r\nKCkKICAgICAgICBzeXMuZmxvd3NoZWV0LmNsZWFyKCkKICAgICAgICByZXN1\nbHRzID0gdGltZSwgdmFyaWFibGVfcHJvZmlsZXMgPSBzeXMuZ2V0X3Zhcmlh\nYmxlX3Byb2ZpbGVzKCkKICAgICAgICB3aXRoIG9wZW4oZmlsZSwgJ3diJykg\nYXMgZjogcGlja2xlLmR1bXAocmVzdWx0cywgZikKICAgIHN0ZWFkeV9zdGF0\nZSA9IHZhcmlhYmxlX3Byb2ZpbGVzLmlsb2NbLTFdCiAgICByZXR1cm4gc3Rl\nYWR5X3N0YXRlCgpkZWYgc3BsaXRfY2FtZWwobmFtZSk6CiAgICBpZiBuYW1l\nLmlzdXBwZXIoKToKICAgICAgICByZXR1cm4gbmFtZQogICAgZWxzZToKICAg\nICAgICByZXR1cm4gcmUuc3ViKHInKD88PVthLXpdKSg/PVtBLVpdKScsICcg\nJywgbmFtZSkuY2FwaXRhbGl6ZSgpCgpkZWYgcGFyc2VfaW5kZXgoaW5kZXgs\nIGRjdCk6CiAgICBpbmRleCwgY2hlbWljYWwgPSBpbmRleAogICAgaW5kZXgs\nIHZhcmlhYmxlID0gaW5kZXgucnNwbGl0KCcuJywgMSkKICAgIGlmIHZhcmlh\nYmxlID09ICdQaGknOiAKICAgICAgICB2YXJpYWJsZSA9ICdQaGFzZSByYXRp\nbycKICAgICAgICB1bml0cyA9ICctJwogICAgZWxpZiB2YXJpYWJsZSA9PSAn\nRic6IAogICAgICAgIHZhcmlhYmxlID0gJ0Zsb3cgcmF0ZScKICAgICAgICB1\nbml0cyA9ICdrbW9sL2hyJwogICAgZWxpZiB2YXJpYWJsZSA9PSAnVCc6CiAg\nICAgICAgdmFyaWFibGUgPSAnVGVtcGVyYXR1cmUnCiAgICAgICAgdW5pdHMg\nPSAnSycKICAgIGVsaWYgdmFyaWFibGUgPT0gJ0snOgogICAgICAgIHZhcmlh\nYmxlID0gJ1BhcnRpdGlvbiBjb2VmZmljaWVudCcKICAgICAgICB1bml0cyA9\nICctJwogICAgZWxpZiB2YXJpYWJsZSA9PSAnUyc6CiAgICAgICAgdmFyaWFi\nbGUgPSAnU2VwYXJhdGlvbiBmYWN0b3InCiAgICAgICAgdW5pdHMgPSAnLScK\nICAgIGVsaWYgdmFyaWFibGUgPT0gJ1InOgogICAgICAgIHZhcmlhYmxlID0g\nJ1JlYWN0aW9uIHJhdGUnCiAgICAgICAgdW5pdHMgPSAna21vbC9ocicKICAg\nIGVsaWYgdmFyaWFibGUgPT0gJ1EnOgogICAgICAgIHZhcmlhYmxlID0gJ0hl\nYXQnCiAgICAgICAgdW5pdHMgPSAna0ovaHInCiAgICBlbHNlOgogICAgICAg\nIHJhaXNlIFJ1bnRpbWVFcnJvcihmJ3Vua25vd24gdmFyaWFibGUge3Zhcmlh\nYmxlIXJ9JykKICAgIGlmICcub3V0c1snIGluIGluZGV4IG9yICcuaW5zWycg\naW4gaW5kZXg6CiAgICAgICAgc3RhZ2UsIF8gPSBpbmRleC5yc3BsaXQoJy4n\nLCAxKQogICAgICAgIHN0cmVhbSA9IGV2YWwoaW5kZXgsIGRjdCkKICAgICAg\nICBvYmogPSBldmFsKHN0YWdlLCBkY3QpCiAgICAgICAgaWYgc3RyZWFtIGlu\nIG9iai5pbnM6CiAgICAgICAgICAgIHN0YWdlID0gTm9uZQogICAgICAgICAg\nICBpbmRleCA9ICctJwogICAgICAgICAgICBzdHJlYW0gPSBzdHJlYW0uSUQu\ncmVwbGFjZSgnXycsICcgJykuY2FwaXRhbGl6ZSgpICsgJyBzdHJlYW0nCiAg\nICAgICAgZWxpZiBoYXNhdHRyKG9iaiwgJ3BoYXNlcycpIGFuZCBzdHJlYW0g\naW4gb2JqLm91dHM6CiAgICAgICAgICAgIHRvcCwgYm90dG9tID0gb2JqLnBo\nYXNlcwogICAgICAgICAgICBpbmQgPSBvYmoub3V0cy5pbmRleChzdHJlYW0p\nCiAgICAgICAgICAgIGlmIGluZCA9PSAwOgogICAgICAgICAgICAgICAgaWYg\ndG9wID09ICdnJzoKICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSAnVmFw\nb3InCiAgICAgICAgICAgICAgICBlbGlmIHRvcCA9PSAnTCc6CiAgICAgICAg\nICAgICAgICAgICAgc3RyZWFtID0gJ0V4dHJhY3QnCiAgICAgICAgICAgICAg\nICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbign\ncGhhc2VzIGRvIG5vdCBtYXRjaCcpCiAgICAgICAgICAgIGVsaWYgaW5kID09\nIDE6CiAgICAgICAgICAgICAgICBpZiB0b3AgPT0gJ2cnOgogICAgICAgICAg\nICAgICAgICAgIHN0cmVhbSA9ICdMaXF1aWQnCiAgICAgICAgICAgICAgICBl\nbGlmIHRvcCA9PSAnTCc6CiAgICAgICAgICAgICAgICAgICAgc3RyZWFtID0g\nJ1JhZmZpbmF0ZScKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAg\nICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKCdwaGFzZXMgZG8gbm90IG1hdGNo\nJykKICAgICAgICAgICAgZWxpZiBpbmQgaW4gKDIsIDMpOgogICAgICAgICAg\nICAgICAgaWYgdG9wID09J2cnOgogICAgICAgICAgICAgICAgICAgIGlmIHN0\ncmVhbS5waGFzZSA9PSAnZyc6CiAgICAgICAgICAgICAgICAgICAgICAgIHN0\ncmVhbSA9ICdWYXBvciBzaWRlZHJhdycKICAgICAgICAgICAgICAgICAgICBl\nbHNlOgogICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0gPSAnTGlxdWlk\nIHNpZGVkcmF3JwogICAgICAgICAgICAgICAgZWxpZiB0b3AgPT0gJ0wnOgog\nICAgICAgICAgICAgICAgICAgIGlmIHN0cmVhbS5waGFzZSA9PSAnTCc6CiAg\nICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbSA9ICdFeHRyYWN0IHNpZGVk\ncmF3JwogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAg\nICAgICAgICAgIHN0cmVhbSA9ICdSYWZmaW5hdGUgc2lkZWRyYXcnCiAgICAg\nICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIEV4\nY2VwdGlvbigncGhhc2VzIGRvIG5vdCBtYXRjaCcpCiAgICAgICAgICAgIGVs\nc2U6CiAgICAgICAgICAgICAgICByYWlzZSBFeGNlcHRpb24oZiJpbmRleCB7\naW5kIXJ9IG5vdCBpbXBsZW1lbnRlZCIpCiAgICAgICAgICAgIGluZGV4ID0g\nc3RhZ2UKICAgICAgICBlbGlmIHN0cmVhbSBpbiBvYmoub3V0czoKICAgICAg\nICAgICAgaWYgbGVuKG9iai5vdXRzKSA9PSAxOgogICAgICAgICAgICAgICAg\nc3RyZWFtID0gJ0VmZmx1ZW50JwogICAgICAgICAgICBlbGlmIGlzaW5zdGFu\nY2Uob2JqLCBic3QuRGlzdGlsbGF0aW9uKToKICAgICAgICAgICAgICAgIGlu\nZCA9IG9iai5vdXRzLmluZGV4KHN0cmVhbSkKICAgICAgICAgICAgICAgIGlm\nIGluZCA9PSAwOgogICAgICAgICAgICAgICAgICAgIHN0cmVhbSA9ICdEaXN0\naWxsYXRlJwogICAgICAgICAgICAgICAgZWxpZiBpbmQgPT0gMToKICAgICAg\nICAgICAgICAgICAgICBzdHJlYW0gPSAnQm90dG9tcyBwcm9kdWN0JwogICAg\nICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByYWlzZSBF\neGNlcHRpb24oZid1bmV4cGVjdGVkIGluZGV4IHtpbmQhcn0gZm9yIGRpc3Rp\nbGxhdGlvbiBwcm9kdWN0JykKICAgICAgICAgICAgaW5kZXggPSBzdGFnZQog\nICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJyZWFrcG9pbnQoKQogICAgZWxz\nZToKICAgICAgICBzdHJlYW0gPSBOb25lCiAgICBpZiAnLnN0YWdlc1snIGlu\nIGluZGV4OgogICAgICAgIHVuaXQsIHN0YWdlID0gaW5kZXguc3BsaXQoJy5z\ndGFnZXNbJykKICAgICAgICBzdGFnZSA9IGludChzdGFnZVs6LTFdKSArIDEK\nICAgIGVsc2U6CiAgICAgICAgc3RhZ2UgPSAnLScKICAgICAgICB1bml0ID0g\naW5kZXgKICAgIHVuaXQgPSB1bml0LnJlcGxhY2UoJ18nLCAnICcpLmNhcGl0\nYWxpemUoKQogICAgY2hlbWljYWwgPSBzcGxpdF9jYW1lbChjaGVtaWNhbCkK\nICAgIGlmIHN0cmVhbToKICAgICAgICB2YXJpYWJsZSA9IHZhcmlhYmxlLmxv\nd2VyKCkKICAgICAgICB2YXJpYWJsZSA9IGYne3N0cmVhbX0ge3ZhcmlhYmxl\nfScKICAgIGVsc2U6CiAgICAgICAgdmFyaWFibGUgPSB2YXJpYWJsZS5jYXBp\ndGFsaXplKCkKICAgIHJldHVybiB1bml0LCBzdGFnZSwgdmFyaWFibGUsIGNo\nZW1pY2FsLCB1bml0cwoKZGVmIHN0ZWFkeV9zdGF0ZV92YXJpYWJsZXNfdGFi\nbGUobmFtZSk6CiAgICBzcyA9IGdldF9zdGVhZHlfc3RhdGUobmFtZSkKICAg\nIHN5cyA9IGNyZWF0ZV90cmFja2VkX3N5c3RlbShuYW1lLCAnc2VxdWVudGlh\nbCBtb2R1bGFyJykgCiAgICBkY3QgPSBzeXMuZmxvd3NoZWV0LnRvX2RpY3Qo\nKQogICAgc3MuaW5kZXggPSBwZC5NdWx0aUluZGV4LmZyb21fdHVwbGVzKAog\nICAgICAgIFtwYXJzZV9pbmRleChpLCBkY3QpIGZvciBpIGluIHNzLmluZGV4\nXSwKICAgICAgICBuYW1lcz1bJ1VuaXQgb3BlcmF0aW9uJywgJ1N0YWdlICMn\nLCAnVmFyaWFibGUnLCAnQ2hlbWljYWwnLCAnVW5pdHMnXSwKICAgICkKICAg\nIHNzLm5hbWUgPSAnVmFsdWVzJwogICAgc3MgPSBzcy5zb3J0X2luZGV4KCkK\nICAgIHJldHVybiBzcy50b19mcmFtZSgpCgpkZWYgdmFyaWFibGVfY29udmVy\nZ2VuY2VfdGFibGUobmFtZSwgYWxnPSdzZXF1ZW50aWFsIG1vZHVsYXInKToK\nICAgIHRpbWUsIHByb2ZpbGVzID0gZ2V0X3ZhcmlhYmxlX3Byb2ZpbGVzKG5h\nbWUsIGFsZywgZXJyb3I9RmFsc2UpCiAgICB0aW1lWzpdIC09IHRpbWVbMF0K\nICAgIHN5cyA9IGNyZWF0ZV90cmFja2VkX3N5c3RlbShuYW1lLCAnc2VxdWVu\ndGlhbCBtb2R1bGFyJykgCiAgICBkY3QgPSBzeXMuZmxvd3NoZWV0LnRvX2Rp\nY3QoKQogICAgcHJvZmlsZXMuY29sdW1ucyA9IHBkLk11bHRpSW5kZXguZnJv\nbV90dXBsZXMoCiAgICAgICAgW3BhcnNlX2luZGV4KGksIGRjdCkgZm9yIGkg\naW4gcHJvZmlsZXMuY29sdW1uc10sCiAgICAgICAgbmFtZXM9WydVbml0IG9w\nZXJhdGlvbicsICdTdGFnZSAjJywgJ1ZhcmlhYmxlJywgJ0NoZW1pY2FsJywg\nJ1VuaXRzJ10sCiAgICApCiAgICBwcm9maWxlcyA9IHByb2ZpbGVzLnNvcnRf\naW5kZXgoYXhpcz0xKQogICAgcHJvZmlsZXMuaW5kZXggPSB0aW1lCiAgICBw\ncm9maWxlcy5pbmRleC5uYW1lID0gJ1RpbWUgW3NdJwogICAgdWIgPSBzeXN0\nZW1fdGlja21hcmtzW0ZhbHNlLCBuYW1lXVstMV0KICAgIGZvciBuLCB0IGlu\nIGVudW1lcmF0ZSh0aW1lKToKICAgICAgICBpZiB0ID4gdWI6IGJyZWFrCiAg\nICByZXR1cm4gcHJvZmlsZXMuaWxvY1s6bl0KCmRlZiBnZXRfc3BlY2lmaWNh\ndGlvbnModW5pdCk6CiAgICBzcGVjaWZpY2F0aW9ucyA9IFtdCiAgICB1bml0\nX25hbWUgPSB1bml0LklELnJlcGxhY2UoJ18nLCAnICcpLmNhcGl0YWxpemUo\nKQogICAgZGVmIGFkZCh2YWx1ZSwgdmFyaWFibGUsIGNoZW1pY2FsPSctJywg\ndW5pdHM9Tm9uZSwgbj1Ob25lKToKICAgICAgICB2bG93ID0gdmFyaWFibGUu\nbG93ZXIoKQogICAgICAgIGlmICdoZWF0JyBpbiB2bG93OiB1bml0cyA9ICdr\nSi9ocicKICAgICAgICBlbGlmICd0ZW1wZXJhdHVyZScgaW4gdmxvdzogdW5p\ndHMgPSAnSycKICAgICAgICBlbGlmICdmbG93IHJhdGUnIGluIHZsb3c6IHVu\naXRzID0gJ2ttb2wvaHInCiAgICAgICAgZWxpZiAncHJlc3N1cmUnIGluIHZs\nb3c6IHVuaXRzID0gJ1BhJwogICAgICAgIGVsc2U6IHVuaXRzID0gJy0nCiAg\nICAgICAgaWYgbiBpcyBOb25lOgogICAgICAgICAgICBuID0gJy0nCiAgICAg\nICAgZWxzZToKICAgICAgICAgICAgbiArPSAxCiAgICAgICAgc3BlY2lmaWNh\ndGlvbnMuYXBwZW5kKAogICAgICAgICAgICAoKHVuaXRfbmFtZSwgbiwgdmFy\naWFibGUsIGNoZW1pY2FsLCB1bml0cyksIHZhbHVlKQogICAgICAgICkKICAg\nIAogICAgaWYgaXNpbnN0YW5jZSh1bml0LCBic3QuTXVsdGlTdGFnZUVxdWls\naWJyaXVtKToKICAgICAgICBpZiB1bml0LnBoYXNlcyA9PSAoJ2cnLCAnbCcp\nOgogICAgICAgICAgICBmb3Igbiwgc3RhZ2UgaW4gZW51bWVyYXRlKHVuaXQu\nc3RhZ2VzKToKICAgICAgICAgICAgICAgIGlmIHN0YWdlLlRfc3BlY2lmaWNh\ndGlvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBhZGQoc3Rh\nZ2UuVCwgJ1RlbXBlcmF0dXJlJywgbj1uKQogICAgICAgICAgICAgICAgZWxp\nZiBzdGFnZS5CX3NwZWNpZmljYXRpb24gaXMgbm90IE5vbmU6CiAgICAgICAg\nICAgICAgICAgICAgYWRkKHN0YWdlLkIsICdQaGFzZSByYXRpbycsIG49bikK\nICAgICAgICAgICAgICAgIGVsaWYgc3RhZ2UuUSBpcyBub3QgTm9uZToKICAg\nICAgICAgICAgICAgICAgICBhZGQoc3RhZ2UuUSwgJ0hlYXQnLCBuPW4pCiAg\nICAgICAgICAgICAgICBpZiBzdGFnZS50b3Bfc3BsaXQ6CiAgICAgICAgICAg\nICAgICAgICAgYWRkKHN0YWdlLnRvcF9zcGxpdCwgJ1ZhcG9yIHNpZGUgZHJh\ndyBmcmFjdGlvbicsIG49bikKICAgICAgICAgICAgICAgIGlmIHN0YWdlLmJv\ndHRvbV9zcGxpdDoKICAgICAgICAgICAgICAgICAgICBhZGQoc3RhZ2UuYm90\ndG9tX3NwbGl0LCAnTGlxdWlkIHNpZGUgZHJhdyBmcmFjdGlvbicsIG49bikK\nICAgICAgICBlbGlmIHVuaXQucGhhc2VzID09ICgnTCcsICdsJyk6CiAgICAg\nICAgICAgIGlmIHVuaXQucGFydGl0aW9uX2RhdGE6CiAgICAgICAgICAgICAg\nICBwYXJ0aXRpb25fZGF0YSA9IHVuaXQucGFydGl0aW9uX2RhdGEKICAgICAg\nICAgICAgICAgIElEcyA9IHBhcnRpdGlvbl9kYXRhWydJRHMnXQogICAgICAg\nICAgICAgICAgS3MgPSBwYXJ0aXRpb25fZGF0YVsnSyddCiAgICAgICAgICAg\nICAgICBmb3IgbiwgSyBpbiBlbnVtZXJhdGUoS3MpOgogICAgICAgICAgICAg\nICAgICAgIGZvciBJRCwgayBpbiB6aXAoSURzLCBLKToKICAgICAgICAgICAg\nICAgICAgICAgICAgSUQgPSBzcGxpdF9jYW1lbChJRCkKICAgICAgICAgICAg\nICAgICAgICAgICAgYWRkKGssICdQYXJ0aXRpb24gY29lZmZpY2llbnQnLCBJ\nRCwgbj1uKQogICAgICAgICAgICBmb3IgbiBpbiByYW5nZSh1bml0Lk5fc3Rh\nZ2VzKToKICAgICAgICAgICAgICAgIGFkZCgwLCAnSGVhdCcsIG49bikKICAg\nICAgICBlbHNlOgogICAgICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVy\ncm9yCiAgICBlbGlmIGlzaW5zdGFuY2UodW5pdCwgYnN0LkRpc3RpbGxhdGlv\nbik6CiAgICAgICAgTEssIEhLID0gW3NwbGl0X2NhbWVsKGkpIGZvciBpIGlu\nIHVuaXQuTEhLXQogICAgICAgIGlmIHVuaXQucHJvZHVjdF9zcGVjaWZpY2F0\naW9uX2Zvcm1hdCA9PSAnUmVjb3ZlcnknOgogICAgICAgICAgICBhZGQodW5p\ndC5MciwgJ0xpZ2h0IGtleSByZWNvdmVyeScsIExLKQogICAgICAgICAgICBh\nZGQodW5pdC5IciwgJ0hlYXZ5IGtleSByZWNvdmVyeScsIEhLKQogICAgICAg\nIGVsaWYgdW5pdC5wcm9kdWN0X3NwZWNpZmljYXRpb25fZm9ybWF0ID09ICdD\nb21wb3NpdGlvbic6CiAgICAgICAgICAgIGFkZCh1bml0LnlfdG9wLCAnRGlz\ndGlsbGF0ZSBsaWdodCBrZXkgbW9sIGZyYWN0aW9uJywgTEspCiAgICAgICAg\nICAgIGFkZCgxIC0gdW5pdC54X2JvdCwgJ0JvdHRvbXMgcHJvZHVjdCBoZWF2\neSBrZXkgbW9sIGZyYWN0aW9uJywgSEspCiAgICAgICAgZWxzZToKICAgICAg\nICAgICAgcmFpc2UgUnVudGltZUVycm9yKGYidW5leHBlY3RlZCBwcm9kdWN0\nIHNwZWNpZmljYXRpb24gZm9ybWF0IHt1bml0LnByb2R1Y3Rfc3BlY2lmaWNh\ndGlvbl9mb3JtYXQhcn0iKQogICAgZWxpZiBpc2luc3RhbmNlKHVuaXQsIGJz\ndC5TdGFnZUVxdWlsaWJyaXVtKToKICAgICAgICBpZiB1bml0LnBoYXNlcyA9\nPSAoJ2cnLCAnbCcpOgogICAgICAgICAgICBpZiB1bml0LlRfc3BlY2lmaWNh\ndGlvbiBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgIGFkZCh1bml0LlQs\nICdUZW1wZXJhdHVyZScpCiAgICAgICAgICAgIGVsaWYgdW5pdC5CX3NwZWNp\nZmljYXRpb24gaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICBhZGQodW5p\ndC5CLCAnUGhhc2UgcmF0aW8nKQogICAgICAgICAgICBlbGlmIHVuaXQuUSBp\ncyBub3QgTm9uZToKICAgICAgICAgICAgICAgIGFkZCh1bml0LlEsICdIZWF0\nJykKICAgICAgICAgICAgaWYgdW5pdC50b3Bfc3BsaXQ6CiAgICAgICAgICAg\nICAgICBhZGQodW5pdC50b3Bfc3BsaXQsICdWYXBvciBzaWRlIGRyYXcgZnJh\nY3Rpb24nKQogICAgICAgICAgICBpZiB1bml0LmJvdHRvbV9zcGxpdDoKICAg\nICAgICAgICAgICAgIGFkZCh1bml0LnRvcF9zcGxpdCwgJ0xpcXVpZCBzaWRl\nIGRyYXcgZnJhY3Rpb24nKQogICAgICAgIGVsaWYgdW5pdC5waGFzZXMgPT0g\nKCdMJywgJ2wnKToKICAgICAgICAgICAgaWYgdW5pdC5wYXJ0aXRpb24ucGFy\ndGl0aW9uX2RhdGE6CiAgICAgICAgICAgICAgICBwYXJ0aXRpb25fZGF0YSA9\nIHVuaXQucGFydGl0aW9uLnBhcnRpdGlvbl9kYXRhCiAgICAgICAgICAgICAg\nICBJRHMgPSBwYXJ0aXRpb25fZGF0YVsnSURzJ10KICAgICAgICAgICAgICAg\nIEtzID0gcGFydGl0aW9uX2RhdGFbJ0snXQogICAgICAgICAgICAgICAgZm9y\nIElELCBLIGluIHppcChJRHMsIEtzKToKICAgICAgICAgICAgICAgICAgICBJ\nRCA9IHNwbGl0X2NhbWVsKElEKQogICAgICAgICAgICAgICAgICAgIGFkZChL\nLCAnUGFydGl0aW9uIGNvZWZmaWNpZW50JywgSUQpCiAgICAgICAgICAgIGFk\nZCgwLCAnSGVhdCcpCiAgICAgICAgICAgIGlmIHVuaXQudG9wX3NwbGl0Ogog\nICAgICAgICAgICAgICAgYWRkKHVuaXQudG9wX3NwbGl0LCAnRXh0cmFjdCBz\naWRlIGRyYXcgZnJhY3Rpb24nKQogICAgICAgICAgICBpZiB1bml0LmJvdHRv\nbV9zcGxpdDoKICAgICAgICAgICAgICAgIGFkZCh1bml0LnRvcF9zcGxpdCwg\nJ1JhZmZpbmF0ZSBzaWRlIGRyYXcgZnJhY3Rpb24nKQogICAgICAgIGVsc2U6\nCiAgICAgICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IKICAgIGVs\naWYgaXNpbnN0YW5jZSh1bml0LCBic3QuU2luZ2xlUGhhc2VTdGFnZSk6CiAg\nICAgICAgaWYgdW5pdC5UIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhZGQo\ndW5pdC5ULCAnVGVtcGVyYXR1cmUnKQogICAgICAgIGVsaWYgdW5pdC5RIGlz\nIG5vdCBOb25lOgogICAgICAgICAgICBhZGQodW5pdC5RLCAnSGVhdCcpCiAg\nICBlbGlmIGlzaW5zdGFuY2UodW5pdCwgYnN0LlJlYWN0aXZlUGhhc2VTdGFn\nZSk6CiAgICAgICAgaWYgdW5pdC5UIGlzIG5vdCBOb25lOgogICAgICAgICAg\nICBhZGQodW5pdC5ULCAnVGVtcGVyYXR1cmUnKQogICAgICAgIGVsaWYgdW5p\ndC5RIGlzIG5vdCBOb25lOgogICAgICAgICAgICBhZGQodW5pdC5RLCAnSGVh\ndCcpCiAgICAgICAgYWRkKHVuaXQucmVhY3Rpb24uWCwgJ0NvbnZlcnNpb24n\nLCBzcGxpdF9jYW1lbCh1bml0LnJlYWN0aW9uLnJlYWN0YW50KSkKICAgIGVs\naWYgaXNpbnN0YW5jZSh1bml0LCBic3QuTWl4ZXIpOgogICAgICAgIGFkZCgw\nLCAnSGVhdCcpCiAgICBlbGlmIGlzaW5zdGFuY2UodW5pdCwgYnN0LlNwbGl0\ndGVyKToKICAgICAgICBhZGQodW5pdC5zcGxpdFswXSwgJ1NwbGl0dGluZyBm\ncmFjdGlvbicpCiAgICBhZGQodW5pdC5vdXRzWzBdLlAsICdQcmVzc3VyZScp\nCiAgICByZXR1cm4gc3BlY2lmaWNhdGlvbnMKCmRlZiBzcGVjaWZpY2F0aW9u\nc190YWJsZShuYW1lKToKICAgIHN5cyA9IGNyZWF0ZV90cmFja2VkX3N5c3Rl\nbShuYW1lLCAnc2VxdWVudGlhbCBtb2R1bGFyJykKICAgIGZvciBpIGluIHN5\ncy5wYXRoOgogICAgICAgIGkuX3NldHVwKCkKICAgICAgICBpLnJ1bigpICMg\nTmVjZXNzYXJ5IHRvIHVwZGF0ZSBwcmVzc3VyZXMKICAgIHNwZWNpZmljYXRp\nb25zID0gc3VtKFtnZXRfc3BlY2lmaWNhdGlvbnMoaSkgZm9yIGkgaW4gc3lz\nLnVuaXRzXSwgW10pCiAgICBpbmRleCwgdmFsdWVzID0gemlwKCpzcGVjaWZp\nY2F0aW9ucykKICAgIHJldHVybiBwZC5EYXRhRnJhbWUoCiAgICAgICAgdmFs\ndWVzLAogICAgICAgIGluZGV4PXBkLk11bHRpSW5kZXguZnJvbV90dXBsZXMo\naW5kZXgsIG5hbWVzPSgnVW5pdCBvcGVyYXRpb24nLCAnU3RhZ2UgIycsICdW\nYXJpYWJsZScsICdDaGVtaWNhbCcsICdVbml0cycpKSwKICAgICAgICBjb2x1\nbW5zPVsnVmFsdWUnXSwKICAgICkuc29ydF9pbmRleCgpCgpkZWYgc2F2ZV9h\nbGxfc3lzdGVtX3JlcG9ydHMoKToKICAgIGZvciBpIGluIGJlbmNobWFya19z\neXN0ZW1zXzIwMjU6IHN5c3RlbV9yZXBvcnQoaSkKCmRlZiBzeXN0ZW1fcmVw\nb3J0KG5hbWUpOgogICAgZmlsZSA9IG9zLnBhdGguam9pbihzaW11bGF0aW9u\nc19mb2xkZXIsIGYne25hbWV9X3Byb2ZpbGVzLnhsc3gnKQogICAgd3JpdGVy\nID0gcGQuRXhjZWxXcml0ZXIoZmlsZSkKICAgIHN5cyA9IGNyZWF0ZV90cmFj\na2VkX3N5c3RlbShuYW1lLCAnc2VxdWVudGlhbCBtb2R1bGFyJykgCiAgICBm\nb3IgaSBpbiBzeXMuc3RyZWFtczogaS5tb2xbOl0gPSAxICMgV29yayBhcm91\nbmQgc28gc3RyZWFtcyBkbyBub3QgYXBwZWFyIGVtcHR5LgogICAgZm9yIGkg\naW4gc3lzLnVuaXRzOgogICAgICAgIGkuSUQgPSBpLklELmNhcGl0YWxpemUo\nKS5yZXBsYWNlKCdfJywgJyAnKQogICAgICAgIGkubGluZSA9ICcnCiAgICB0\ncnk6CiAgICAgICAgd2l0aCBic3QucHJlZmVyZW5jZXMudGVtcG9yYXJ5KCkg\nYXMgcDoKICAgICAgICAgICAgcC5yZXNldCgpCiAgICAgICAgICAgIHAubGln\naHRfbW9kZSgpCiAgICAgICAgICAgIHN5cy5kaWFncmFtKGZpbGU9J2Zsb3dz\naGVldCcsIGRwaT0nMzAwJywgZm9ybWF0PSdwbmcnKQogICAgZXhjZXB0Ogog\nICAgICAgIGRpYWdyYW1fY29tcGxldGVkID0gRmFsc2UKICAgICAgICB3YXJu\nKFJ1bnRpbWVXYXJuaW5nKCdmYWlsZWQgdG8gZ2VuZXJhdGUgZGlhZ3JhbSB0\naHJvdWdoIGdyYXBodml6JyksIHN0YWNrbGV2ZWw9MikKICAgIGVsc2U6CiAg\nICAgICAgaW1wb3J0IFBJTC5JbWFnZQogICAgICAgIHRyeToKICAgICAgICAg\nICAgIyBBc3N1bWUgb3BlbnB5eGwgaXMgdXNlZAogICAgICAgICAgICB3b3Jr\nc2hlZXQgPSB3cml0ZXIuYm9vay5jcmVhdGVfc2hlZXQoJ0Zsb3dzaGVldCcp\nCiAgICAgICAgICAgIGZsb3dzaGVldCA9IG9wZW5weXhsLmRyYXdpbmcuaW1h\nZ2UuSW1hZ2UoJ2Zsb3dzaGVldC5wbmcnKQogICAgICAgICAgICB3b3Jrc2hl\nZXQuYWRkX2ltYWdlKGZsb3dzaGVldCwgYW5jaG9yPSdBMScpCiAgICAgICAg\nZXhjZXB0IFBJTC5JbWFnZS5EZWNvbXByZXNzaW9uQm9tYkVycm9yOgogICAg\nICAgICAgICBQSUwuSW1hZ2UuTUFYX0lNQUdFX1BJWEVMUyA9IGludCgxZTkp\nCiAgICAgICAgICAgIGZsb3dzaGVldCA9IG9wZW5weXhsLmRyYXdpbmcuaW1h\nZ2UuSW1hZ2UoJ2Zsb3dzaGVldC5wbmcnKQogICAgICAgICAgICB3b3Jrc2hl\nZXQuYWRkX2ltYWdlKGZsb3dzaGVldCwgYW5jaG9yPSdBMScpCiAgICAgICAg\nZXhjZXB0OgogICAgICAgICAgICAjIEFzc3VtZSB4bHN4IHdyaXRlciBpcyB1\nc2VkCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHdvcmtzaGVl\ndCA9IHdyaXRlci5ib29rLmFkZF93b3Jrc2hlZXQoJ0Zsb3dzaGVldCcpCiAg\nICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgIHdhcm4oInByb2Js\nZW0gaW4gc2F2aW5nIGZsb3dzaGVldDsgcGxlYXNlIHN1Ym1pdCBpc3N1ZSB0\nbyBCaW9TVEVBTSB3aXRoIgogICAgICAgICAgICAgICAgICAgICAieW91ciBj\ndXJyZW50IHZlcnNpb24gb2Ygb3BlbnB5eGwgYW5kIHhsc3ggd3JpdGVyIiwg\nUnVudGltZVdhcm5pbmcpCiAgICAgICAgICAgIHdvcmtzaGVldC5pbnNlcnRf\naW1hZ2UoJ0ExJywgJ2Zsb3dzaGVldC5wbmcnKQogICAgICAgIGRpYWdyYW1f\nY29tcGxldGVkID0gVHJ1ZQogICAgYnN0LnJlcG9ydC50YWJsZXNfdG9fZXhj\nZWwoCiAgICAgICAgW3NwZWNpZmljYXRpb25zX3RhYmxlKG5hbWUpXSwgCiAg\nICAgICAgd3JpdGVyLCAnU3BlY2lmaWNhdGlvbnMnLAogICAgKQogICAgYnN0\nLnJlcG9ydC50YWJsZXNfdG9fZXhjZWwoCiAgICAgICAgW3N0ZWFkeV9zdGF0\nZV92YXJpYWJsZXNfdGFibGUobmFtZSldLCAKICAgICAgICB3cml0ZXIsICdT\ndGVhZHkgc3RhdGUgcmVzdWx0cycsCiAgICApCiAgICBhbGdvcml0aG1zID0g\nKAogICAgICAgICdwaGVub21lbmEgYmFzZWQnLCAKICAgICAgICAncGhlbm9t\nZW5hIG1vZHVsYXInLCAKICAgICAgICAnc2VxdWVudGlhbCBtb2R1bGFyJwog\nICAgKQogICAgZm9yIGFsZyBpbiBhbGdvcml0aG1zOgogICAgICAgIGJzdC5y\nZXBvcnQudGFibGVzX3RvX2V4Y2VsKAogICAgICAgICAgICBbdmFyaWFibGVf\nY29udmVyZ2VuY2VfdGFibGUobmFtZSwgYWxnKV0sIAogICAgICAgICAgICB3\ncml0ZXIsIGFsZy5jYXBpdGFsaXplKCksCiAgICAgICAgKQogICAgd3JpdGVy\nLmNsb3NlKCkKICAgIGlmIGRpYWdyYW1fY29tcGxldGVkOiBvcy5yZW1vdmUo\nImZsb3dzaGVldC5wbmciKQoKZGVmIHBsb3Rfb3NjaWxsYXRpbmdfdmFyaWFi\nbGVzKG5hbWUsIGFsZ29yaXRobSwgdGltZT1Ob25lKTogCiAgICBic3QuRi5j\nbGVhcigpCiAgICBzeXMgPSBjcmVhdGVfdHJhY2tlZF9zeXN0ZW0obmFtZSwg\nYWxnb3JpdGhtLCB0aW1lKSAKICAgIHN5cy5fc2V0dXAoKQogICAgc3lzLmNv\nbnZlcmdlKCkKICAgIHN5cy5hc3NlcnRfdHJhY2tpbmdfb2soKQogICAgc3lz\nLmZsb3dzaGVldC5jbGVhcigpCiAgICB0aW1lLCB2YXJpYWJsZV9wcm9maWxl\ncyA9IHN5cy5nZXRfdmFyaWFibGVfcHJvZmlsZXModGltZT1UcnVlKQogICAg\ndmFyaWFibGVfcHJvZmlsZXMuaW5kZXggPSB0aW1lCiAgICBvc2NpbGxhdGlu\nZ19jb2x1bW5zID0gW10KICAgIHBhc3RfbmFtZXMgPSBzZXQoKQogICAgZm9y\nIGVxIGluIHN5cy5lcXVhdGlvbl9ub2RlczogCiAgICAgICAgbmFtZXMgPSBb\naS5uYW1lIGZvciBpIGluIGVxLm91dHB1dHNdCiAgICAgICAgZXFfbmFtZSA9\nIGVxLm5hbWUKICAgICAgICBpZiAncGhlbm9tZW5hJyBub3QgaW4gZXFfbmFt\nZTogY29udGludWUKICAgICAgICBmb3IgbmFtZSBpbiBuYW1lczoKICAgICAg\nICAgICAgaWYgbmFtZSBpbiBwYXN0X25hbWVzOiBjb250aW51ZQogICAgICAg\nICAgICBlID0gdmFyaWFibGVfcHJvZmlsZXNbbmFtZV0KICAgICAgICAgICAg\nZGVmIGFkZChuYW1lLCBlKToKICAgICAgICAgICAgICAgIG1lYW4gPSBlLm1l\nYW4oKQogICAgICAgICAgICAgICAgZTAgPSBlLmlsb2NbMF0KICAgICAgICAg\nICAgICAgIE4gPSBsZW4oZSkKICAgICAgICAgICAgICAgIGNyb3NzZWRfbWVh\nbiA9IDAKICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDEsIE4tMSk6\nCiAgICAgICAgICAgICAgICAgICAgZTEgPSBlLmlsb2NbaV0KICAgICAgICAg\nICAgICAgICAgICBjcm9zc2VkX21lYW4gKz0gKAogICAgICAgICAgICAgICAg\nICAgICAgICBlMSA+PSBtZWFuIGFuZCBlMCA8IG1lYW4gCiAgICAgICAgICAg\nICAgICAgICAgICAgIG9yCiAgICAgICAgICAgICAgICAgICAgICAgIGUxIDw9\nIG1lYW4gYW5kIGUwID4gbWVhbiAKICAgICAgICAgICAgICAgICAgICApCiAg\nICAgICAgICAgICAgICAgICAgZTEgPSBlMAogICAgICAgICAgICAgICAgaWYg\nY3Jvc3NlZF9tZWFuID4gNToKICAgICAgICAgICAgICAgICAgICBvc2NpbGxh\ndGluZ19jb2x1bW5zLmFwcGVuZChbbmFtZSwgZV0pCiAgICAgICAgICAgIGlm\nIGUubmRpbSA9PSAyOiAKICAgICAgICAgICAgICAgIGZvciBzdWJuYW1lIGlu\nIGU6CiAgICAgICAgICAgICAgICAgICAgYWRkKFtuYW1lLCBzdWJuYW1lXSwg\nZVtzdWJuYW1lXSkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAg\nIGFkZChuYW1lLCBlKQogICAgICAgIHBhc3RfbmFtZXMudXBkYXRlKG5hbWVz\nKQogICAgZm9yIG5hbWUsIGUgaW4gb3NjaWxsYXRpbmdfY29sdW1uczoKICAg\nICAgICBwbHQuZmlndXJlKCkKICAgICAgICBlLnBsb3QubGluZSgpCiAgICAg\nICAgcGx0LnlsYWJlbChuYW1lKQogICAgIyBvc2NpbGxhdGluZ19wcm9maWxl\ncyA9IHZhcmlhYmxlX3Byb2ZpbGVzW29zY2lsbGF0aW5nX2NvbHVtbnNdCiAg\nICAjIG9zY2lsbGF0aW5nX3Byb2ZpbGVzLmluZGV4ID0gdGltZQogICAgIyBv\nc2NpbGxhdGluZ19wcm9maWxlcy5wbG90LmxpbmUoKQogICAgcmV0dXJuIG9z\nY2lsbGF0aW5nX2NvbHVtbnMKCmRlZiBnZXRfdmFyaWFibGVfcHJvZmlsZXMo\nCiAgICAgICAgbmFtZSwgYWxnb3JpdGhtLCAKICAgICAgICBudW1iZXI9MCwg\nbG9hZD1UcnVlLCBtb2NrPUZhbHNlLCBjb252ZXJnZW5jZV9yYXRlPU5vbmUs\nCiAgICAgICAgZ3JvdXBlZF9lcnJvcj1UcnVlLCBlcnJvcj1UcnVlLAogICAg\nKTogCiAgICBmaWxlX25hbWUgPSBmIntuYW1lfV97YWxnb3JpdGhtfV97bnVt\nYmVyfSIKICAgIGZpbGUgPSBvcy5wYXRoLmpvaW4oc2ltdWxhdGlvbnNfZm9s\nZGVyLCBmaWxlX25hbWUpCiAgICBic3QuRi5jbGVhcigpCiAgICBpZiBub3Qg\nbW9jayBhbmQgbG9hZDoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdpdGgg\nb3BlbihmaWxlLCAncmInKSBhcyBmOiB0aW1lLCB2YXJpYWJsZV9wcm9maWxl\ncyA9IHBpY2tsZS5sb2FkKGYpCiAgICAgICAgICAgIHN5cyA9IGFsbF9zeXN0\nZW1zW25hbWVdKGFsZ29yaXRobSkKICAgICAgICAgICAgc3lzLl9zZXR1cF91\nbml0cygpCiAgICAgICAgICAgIHN5cy5mbG93c2hlZXQuY2xlYXIoKQogICAg\nICAgICAgICBzeXMudHJhY2tfY29udmVyZ2VuY2UoKQogICAgICAgIGV4Y2Vw\ndDoKICAgICAgICAgICAgcmV0dXJuIGdldF92YXJpYWJsZV9wcm9maWxlcygK\nICAgICAgICAgICAgICAgIG5hbWUsIGFsZ29yaXRobSwgbnVtYmVyLCBGYWxz\nZSwgbW9jaywgY29udmVyZ2VuY2VfcmF0ZSwKICAgICAgICAgICAgICAgIGdy\nb3VwZWRfZXJyb3IsIGVycm9yCiAgICAgICAgICAgICkKICAgIGVsc2U6CiAg\nICAgICAgaWYgbW9jazoKICAgICAgICAgICAgc3lzID0gYWxsX3N5c3RlbXNb\nbmFtZV0oYWxnb3JpdGhtKQogICAgICAgICAgICBzeXMubW9ja19jb252ZXJn\nZW5jZShjb252ZXJnZW5jZV9yYXRlPWNvbnZlcmdlbmNlX3JhdGUgb3IgMjAp\nCiAgICAgICAgICAgIHN5cy5mbG93c2hlZXQuY2xlYXIoKQogICAgICAgIGVs\nc2U6CiAgICAgICAgICAgIHN5cyA9IGNyZWF0ZV90cmFja2VkX3N5c3RlbShu\nYW1lLCBhbGdvcml0aG0pIAogICAgICAgICAgICBzeXMuc2ltdWxhdGUoZGVz\naWduX2FuZF9jb3N0PUZhbHNlKQogICAgICAgICAgICBzeXMuYXNzZXJ0X3Ry\nYWNraW5nX29rKCkKICAgICAgICAgICAgc3lzLmZsb3dzaGVldC5jbGVhcigp\nCiAgICAgICAgcmVzdWx0cyA9IHRpbWUsIHZhcmlhYmxlX3Byb2ZpbGVzID0g\nc3lzLmdldF92YXJpYWJsZV9wcm9maWxlcygpCiAgICAgICAgd2l0aCBvcGVu\nKGZpbGUsICd3YicpIGFzIGY6IHBpY2tsZS5kdW1wKHJlc3VsdHMsIGYpCiAg\nICBpZiBub3QgZ3JvdXBlZF9lcnJvcjogcmV0dXJuIHRpbWUsIHZhcmlhYmxl\nX3Byb2ZpbGVzCiAgICBpZiBtb2NrOgogICAgICAgIGVycm9ycyA9IHZhcmlh\nYmxlX3Byb2ZpbGVzLmNvcHkoKQogICAgZWxzZToKICAgICAgICBzdGVhZHlf\nc3RhdGUgPSBnZXRfc3RlYWR5X3N0YXRlKG5hbWUsIFRydWUpCiAgICAgICAg\nc3RlYWR5X3N0YXRlLnZhbHVlc1tzdGVhZHlfc3RhdGUgPCAxZS02XSA9IDAK\nICAgICAgICBzdGVhZHlfc3RhdGUudmFsdWVzW3N0ZWFkeV9zdGF0ZSA+IDFl\nNl0gPSAxZTYKICAgICAgICB2YXJpYWJsZV9wcm9maWxlcy52YWx1ZXNbdmFy\naWFibGVfcHJvZmlsZXMgPCAxZS02XSA9IDAKICAgICAgICB2YXJpYWJsZV9w\ncm9maWxlcy52YWx1ZXNbdmFyaWFibGVfcHJvZmlsZXMgPiAxZTZdID0gMWU2\nCiAgICAgICAgZXJyb3JzID0gKHZhcmlhYmxlX3Byb2ZpbGVzIC0gc3RlYWR5\nX3N0YXRlKQogICAgICAgICMgYnJlYWtwb2ludCgpCiAgICAgICAgIyBtcyA9\nIFtpIGZvciBpIGluIGVycm9ycyBpZiAnVTEnIGluIGlbMF0gYW5kICdQaGkn\nIGluIGlbMF1dCiAgICAgICAgIyBwcmludChlcnJvcnNbbXNdLnN1bSgpKQog\nICAgaWYgbm90IGVycm9yOgogICAgICAgIHJldHVybiB0aW1lLCB2YXJpYWJs\nZV9wcm9maWxlcwogICAgcHJvZmlsZXMgPSB7fQogICAgcGFzdF9uYW1lcyA9\nIHNldCgpCiAgICBmb3IgZXEgaW4gc3lzLmVxdWF0aW9uX25vZGVzOiAKICAg\nICAgICBuYW1lcyA9IFtpLm5hbWUgZm9yIGkgaW4gZXEudHJhY2tlZF9vdXRw\ndXRzXQogICAgICAgIGVxX25hbWUgPSBlcS5uYW1lCiAgICAgICAgZm9yIG5h\nbWUgaW4gbmFtZXM6CiAgICAgICAgICAgIGlmIG5hbWUgaW4gcGFzdF9uYW1l\nczogY29udGludWUKICAgICAgICAgICAgZSA9IGVycm9yc1tuYW1lXS52YWx1\nZXMKICAgICAgICAgICAgaWYgZS5uZGltID09IDI6IGUgPSBlLnN1bShheGlz\nPTEpCiAgICAgICAgICAgIHNxdWFyZWRfZXJyb3IgPSBlICogZSAjIHNxdWFy\nZWQgZXJyb3IKICAgICAgICAgICAgZm9yIGNhdGVnb3J5IGluIGNhdGVnb3Jp\nZXM6CiAgICAgICAgICAgICAgICBpZiBjYXRlZ29yeSBpbiBlcV9uYW1lOiBi\ncmVhawogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgY2F0ZWdv\ncnkgPSAndmxlX3BoZW5vbWVuYScgIyBKdXN0IGFzc3VtZSBkaXN0aWxsYXRp\nb24gaXMgdmxlIHJlbGF0ZWQKICAgICAgICAgICAgaWYgY2F0ZWdvcnkgaW4g\ncHJvZmlsZXM6CiAgICAgICAgICAgICAgICBwcm9maWxlc1tjYXRlZ29yeV0u\nYXBwZW5kKHNxdWFyZWRfZXJyb3IpCiAgICAgICAgICAgIGVsc2U6CiAgICAg\nICAgICAgICAgICBwcm9maWxlc1tjYXRlZ29yeV0gPSBbc3F1YXJlZF9lcnJv\ncl0KICAgICAgICBwYXN0X25hbWVzLnVwZGF0ZShuYW1lcykKICAgIGZvciBr\nZXksIGxzdCBpbiBwcm9maWxlcy5pdGVtcygpOiBwcm9maWxlc1trZXldID0g\nc3VtKGxzdCkgLyBsZW4obHN0KQogICAgcHJvZmlsZXNbJ3RpbWUnXSA9IHRp\nbWUKICAgIHJldHVybiBwcm9maWxlcwoKIyAlJSAgUHJvZmlsZSBwbG90Cgpk\nZWYgZGN0X21lYW5fcHJvZmlsZShkY3RzOiBsaXN0W2RpY3RdLCBjYXRlZ29y\naWVzKToKICAgIHNpemUgPSBucC5taW4oW2xlbihpWyd0aW1lJ10pIGZvciBp\nIGluIGRjdHNdKQogICAgdCA9IG5wLmFycmF5KFtpWyd0aW1lJ11bOnNpemVd\nIGZvciBpIGluIGRjdHNdKS5tZWFuKGF4aXM9MCkKICAgIG5hbWVzID0gW2kg\nZm9yIGkgaW4gY2F0ZWdvcmllcyBpZiBpIGluIGRjdHNbMF1dCiAgICBtZWFu\nID0ge2k6IG5wLmFycmF5KFtkY3RbaV1bOnNpemVdIGZvciBkY3QgaW4gZGN0\nc10pLm1lYW4oYXhpcz0wKSBmb3IgaSBpbiBuYW1lc30KICAgIG1lYW5bJ3Rp\nbWUnXSA9IHQKICAgIGZvciBpIGluIG5hbWVzOgogICAgICAgIHZhbHVlcyA9\nIG1lYW5baV0KICAgICAgICBtYXNrID0gbnAuaXNuYW4odmFsdWVzKQogICAg\nICAgIHZhbHVlc1ttYXNrXSA9IHZhbHVlc1t+bWFza10ubWF4KCkgIyBNYXhp\nbXVtIGVycm9yCiAgICAgICAgdmFsdWVzW3ZhbHVlcyA8IDFlLTE1XSA9IDFl\nLTE1CiAgICAgICAgdmFsdWVzWzpdID0gbnAubG9nMTAodmFsdWVzKQogICAg\ncmV0dXJuIG1lYW4KCmRlZiBkY3RfbWVhbl9zdGQoZGN0czogbGlzdFtkaWN0\nXSwga2V5czogbGlzdFtzdHJdKToKICAgIG4gPSBsZW4oZGN0cykKICAgIHZh\nbHVlcyA9IHtpOiBucC56ZXJvcyhuKSBmb3IgaSBpbiBrZXlzfQogICAgZm9y\nIGksIGRjdCBpbiBlbnVtZXJhdGUoZGN0cyk6CiAgICAgICAgZm9yIGtleSBp\nbiBrZXlzOiB2YWx1ZXNba2V5XVtpXSA9IGRjdFtrZXldCiAgICByZXR1cm4g\ne2k6ICh2YWx1ZXNbaV0ubWVhbigpLCB2YWx1ZXNbaV0uc3RkKCkpIGZvciBp\nIGluIGtleXN9CgpkZWYgcGxvdF9wcm9maWxlKAogICAgICAgIHN5c3RlbXM9\nTm9uZSwgYWxnb3JpdGhtcz1Ob25lLCBOPTEsIGxvYWQ9VHJ1ZSwgc2F2ZT1U\ncnVlLCBkYXJrPUZhbHNlLAogICAgICAgIGNsb3NldXA9RmFsc2UsIGZzPU5v\nbmUsIHdpZHRoPU5vbmUsIGFzcGVjdF9yYXRpbz1Ob25lLCBsYWJlbD1UcnVl\nLAogICAgKToKICAgIGlmIGRhcms6IAogICAgICAgIHBsdC5zdHlsZS51c2Uo\nJ2RhcmtfYmFja2dyb3VuZCcpCiAgICAgICAgcGx0LnJjUGFyYW1zLnVwZGF0\nZSh7CiAgICAgICAgICAgICJmaWd1cmUuZmFjZWNvbG9yIjogICgwLjAsIDAu\nMCwgMC4wLCAwKSwgICMgcmVkICAgd2l0aCBhbHBoYSA9IDMwJQogICAgICAg\nICAgICAiYXhlcy5mYWNlY29sb3IiOiAgICAoMC4wLCAwLjAsIDAuMCwgMSks\nICAjIGdyZWVuIHdpdGggYWxwaGEgPSA1MCUKICAgICAgICAgICAgInNhdmVm\naWcuZmFjZWNvbG9yIjogKDAuMCwgMC4wLCAwLjAsIDApLCAgIyBibHVlICB3\naXRoIGFscGhhID0gMjAlCiAgICAgICAgfSkKICAgIGlmIGFsZ29yaXRobXMg\naXMgTm9uZTogYWxnb3JpdGhtcyA9ICgncGhlbm9tZW5hIGJhc2VkJywgJ3Bo\nZW5vbWVuYSBtb2R1bGFyJywgJ3NlcXVlbnRpYWwgbW9kdWxhcicpCiAgICBp\nZiBpc2luc3RhbmNlKHN5c3RlbXMsIHN0cik6IHN5c3RlbXMgPSBbc3lzdGVt\nc10KICAgIGlmIHN5c3RlbXMgaXMgTm9uZTogc3lzdGVtcyA9IGxpc3QoYWxs\nX3N5c3RlbXMpCiAgICBpZiBmcyBpcyBOb25lOiBmcyA9IDEwCiAgICBic3Qu\nc2V0X2ZvbnQoZnMpCiAgICBuX3Jvd3MgPSBsZW4oYWxnb3JpdGhtcykKICAg\nIG5fY29scyA9IGxlbihzeXN0ZW1zKQogICAgaWYgd2lkdGggaXMgTm9uZTog\nd2lkdGggPSAnZnVsbCcgaWYgbl9jb2xzID4gMSBlbHNlICdoYWxmJwogICAg\naWYgYXNwZWN0X3JhdGlvIGlzIE5vbmU6IGFzcGVjdF9yYXRpbyA9IDAuMzI1\nICogbl9yb3dzIGlmIG5fcm93cyA+IDEgZWxzZSAwLjY1CiAgICBic3Quc2V0\nX2ZpZ3VyZV9zaXplKGFzcGVjdF9yYXRpbz1hc3BlY3RfcmF0aW8sIHdpZHRo\nPXdpZHRoKQogICAgZmlnLCBhbGxfYXhlcyA9IHBsdC5zdWJwbG90cyhuX3Jv\nd3MsIG5fY29scykKICAgIGFsbF9heGVzID0gbnAucmVzaGFwZShucC5hcnJh\neShhbGxfYXhlcyksIFtuX3Jvd3MsIG5fY29sc10pCiAgICBmb3IgbSwgc3lz\nIGluIGVudW1lcmF0ZShzeXN0ZW1zKToKICAgICAgICB0aW1lID0gc3lzdGVt\nX2NvbnZlcmdlbmNlX3RpbWVzW3N5c10KICAgICAgICBheGVzID0gYWxsX2F4\nZXNbOiwgbV0KICAgICAgICBwcm9maWxlcyA9IHsKICAgICAgICAgICAgYWxn\nOiBbZ2V0X3ZhcmlhYmxlX3Byb2ZpbGVzKHN5cywgYWxnLCBpLCBsb2FkPWxv\nYWQpIGZvciBpIGluIHJhbmdlKE4pXQogICAgICAgICAgICBmb3IgYWxnIGlu\nIGFsZ29yaXRobXMKICAgICAgICB9CiAgICAgICAgbWVhbl9wcm9maWxlcyA9\nIHtpOiBkY3RfbWVhbl9wcm9maWxlKGosIGNhdGVnb3JpZXMpIGZvciBpLCBq\nIGluIHByb2ZpbGVzLml0ZW1zKCl9CiAgICAgICAgZm9yIGRjdCBpbiBtZWFu\nX3Byb2ZpbGVzLnZhbHVlcygpOgogICAgICAgICAgICB0aW1lID0gZGN0Wyd0\naW1lJ10KICAgICAgICAgICAgdGltZVs6XSAtPSB0aW1lWzBdCiAgICAgICAg\nIyB5dGlja3NfbGlzdCA9IHN5c3RlbV95dGlja3Nbc3lzXQogICAgICAgIGZv\nciBuLCAoYWxnLCBtZWFuX3Byb2ZpbGUpIGluIGVudW1lcmF0ZShtZWFuX3By\nb2ZpbGVzLml0ZW1zKCkpOgogICAgICAgICAgICBheCA9IGF4ZXNbbl0KICAg\nICAgICAgICAgcGx0LnNjYShheCkKICAgICAgICAgICAgeHRpY2tzID0gc3lz\ndGVtX3RpY2ttYXJrc1tjbG9zZXVwLCBzeXNdCiAgICAgICAgICAgIGZvciBj\nYXRlZ29yeSBpbiBjYXRlZ29yaWVzOgogICAgICAgICAgICAgICAgIyBpZiBh\nbGcgPT0gJ3NlcXVlbnRpYWwgbW9kdWxhcicgYW5kIGNhdGVnb3J5ID09ICds\nbGUnOiBicmVha3BvaW50KCkKICAgICAgICAgICAgICAgIGlmIGNhdGVnb3J5\nIG5vdCBpbiBtZWFuX3Byb2ZpbGU6IGNvbnRpbnVlCiAgICAgICAgICAgICAg\nICB5ID0gbnAuYXJyYXkobWVhbl9wcm9maWxlW2NhdGVnb3J5XSkKICAgICAg\nICAgICAgICAgICMgeSA9IGdhdXNzaWFuX2ZpbHRlcih5LCAwLjIpCiAgICAg\nICAgICAgICAgICB0ID0gbnAuYXJyYXkobWVhbl9wcm9maWxlWyd0aW1lJ10p\nCiAgICAgICAgICAgICAgICBjID0gcGhlbm9tZW5hX2NvbG9yc1tjYXRlZ29y\neS5zcGxpdCgnXycpWzBdXQogICAgICAgICAgICAgICAgIyBwcmludChhbGcs\nIGNhdGVnb3J5KQogICAgICAgICAgICAgICAgIyBwcmludCh5KQogICAgICAg\nICAgICAgICAgaWYgYWxnID09ICdQaGVub21lbmEgYmFzZWQnIGFuZCBzeXMg\nPT0gJ2FjZXRpY19hY2lkX2NvbXBsZXgnOgogICAgICAgICAgICAgICAgICAg\nIHRpbWVfLCB2YXJpYWJsZV9wcm9maWxlcyA9IGdldF92YXJpYWJsZV9wcm9m\naWxlcygKICAgICAgICAgICAgICAgICAgICAgICAgJ2FjZXRpY19hY2lkX2Nv\nbXBsZXgnLCAnUGhlbm9tZW5hIGJhc2VkJywKICAgICAgICAgICAgICAgICAg\nICAgICAgZ3JvdXBlZF9lcnJvcj1GYWxzZSwKICAgICAgICAgICAgICAgICAg\nICApCiAgICAgICAgICAgICAgICAgICAgc2luZ2xlX3BoYXNlID0gdmFyaWFi\nbGVfcHJvZmlsZXNbJ3NldHRsZXIuSycsICdXYXRlciddID09IDEKICAgICAg\nICAgICAgICAgICAgICB0aW1lX1s6XSAtPSB0aW1lX1swXQogICAgICAgICAg\nICAgICAgICAgIHRpbWVfID0gdGltZV9bc2luZ2xlX3BoYXNlXQogICAgICAg\nICAgICAgICAgICAgIGZvciBpIGluIHRpbWVfOiBwbHQuYXh2bGluZShpLCBj\nPSdkYXJrZ3JheScsIGx3PTAuMDEpCiAgICAgICAgICAgICAgICBwbHQuc3Rl\ncCh0LCB5LCAnLScsIGNvbG9yPWMsIGx3PTEsIGFscGhhPTEsIHdoZXJlPSdw\nb3N0JykKICAgICAgICAgICAgCiAgICAgICAgICAgIHl0aWNrbGFiZWxzID0g\nbSA9PSAwCiAgICAgICAgICAgICMgeXRpY2tzID0geXRpY2tzX2xpc3Rbbl0K\nICAgICAgICAgICAgeXRpY2tzID0gWy0xMiwgLTYsIDAsIDYsIDEyXQogICAg\nICAgICAgICBpZiB5dGlja2xhYmVsczogeXRpY2tsYWJlbHMgPSBbc3RyKGkp\nIGZvciBpIGluIHl0aWNrc10KICAgICAgICAgICAgIyBpZiB5dGlja2xhYmVs\nczogeXRpY2tsYWJlbHMgPSBbcickXG1hdGhybXsxMH1eeycgZid7aX0nICd9\nJCcgZm9yIGkgaW4geXRpY2tzXQogICAgICAgICAgICB4dGlja2xhYmVscyA9\nIHh0aWNrMCA9IG4gPT0gbl9yb3dzLTEKICAgICAgICAgICAgeHRpY2tmID0g\nVHJ1ZQogICAgICAgICAgICB5dGljazAgPSBuID09IG5fcm93cy0xCiAgICAg\nICAgICAgIHl0aWNrZiA9IG4gPT0gMAogICAgICAgICAgICBwbHQueGxpbSgw\nLCB4dGlja3NbLTFdKQogICAgICAgICAgICBwbHQueWxpbSh5dGlja3NbMF0s\nIHl0aWNrc1stMV0pCiAgICAgICAgICAgICMgaWYgbSA9PSAwOiBwbHQueWxh\nYmVsKGYne2FsZ31cbmxvZyRfe3sxMH19JCBlcnJvcicpCiAgICAgICAgICAg\nIGJzdC51dGlscy5zdHlsZV9heGlzKAogICAgICAgICAgICAgICAgYXgsIHh0\naWNrcz14dGlja3MsIHl0aWNrcz15dGlja3MsIAogICAgICAgICAgICAgICAg\neHRpY2swPXh0aWNrMCwgeHRpY2tmPXh0aWNrZiwgeXRpY2swPXl0aWNrMCwg\neXRpY2tmPXl0aWNrZiwKICAgICAgICAgICAgICAgIHh0aWNrbGFiZWxzPXh0\naWNrbGFiZWxzLAogICAgICAgICAgICAgICAgeXRpY2tsYWJlbHM9eXRpY2ts\nYWJlbHMsCiAgICAgICAgICAgICkKICAgIGlmIGxhYmVsOgogICAgICAgIGZv\nciBheGlzIGluIGFsbF9heGVzWy0xXToKICAgICAgICAgICAgcGx0LnNjYShh\neGlzKQogICAgICAgICAgICBwbHQueGxhYmVsKCdUaW1lIFtzXScpCiAgICAg\nICAgaWYgbl9yb3dzID09IDM6CiAgICAgICAgICAgIGNlbnRyYWxfYXhpcyA9\nIGFsbF9heGVzWzEsIDBdCiAgICAgICAgICAgIHBsdC5zY2EoY2VudHJhbF9h\neGlzKQogICAgICAgICAgICBwbHQueWxhYmVsKCdsb2ckX3sxMH0kRXJyb3In\nKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZvciBheGlzIGluIGFsbF9h\neGVzWzosIDBdOgogICAgICAgICAgICAgICAgcGx0LnNjYShheGlzKQogICAg\nICAgICAgICAgICAgcGx0LnlsYWJlbCgnbG9nJF97MTB9JEVycm9yJykKICAg\nIGxlZnQgPSAwLjIKICAgIHRvcCA9IDAuODUKICAgIGlmIG5fcm93cyA9PSAy\nOgogICAgICAgIGxlZnQgPSAwLjI1CiAgICAgICAgYm90dG9tID0gMC4xCiAg\nICBlbGlmIG5fcm93cyA9PSAxOgogICAgICAgIGJvdHRvbSA9IDAuMTUKICAg\nICAgICBpZiBuX2NvbHMgPT0gMToKICAgICAgICAgICAgbGVmdCA9IDAuMjUK\nICAgICAgICAgICAgdG9wID0gMC45MAogICAgICAgICAgICBib3R0b20gPSAw\nLjIKICAgIGVsc2U6CiAgICAgICAgYm90dG9tID0gMC4xNQogICAgcGx0LnN1\nYnBsb3RzX2FkanVzdChyaWdodD0wLjk2LCBsZWZ0PWxlZnQsIGJvdHRvbT1i\nb3R0b20sIHRvcD10b3AsIGhzcGFjZT0wLCB3c3BhY2U9MC4xKQogICAgZm9y\nIGkgaW4gKCdzdmcnLCAncG5nJyk6CiAgICAgICAgbmFtZSA9IGYncHJvZmls\nZS57aX0nCiAgICAgICAgZmlsZSA9IG9zLnBhdGguam9pbihpbWFnZXNfZm9s\nZGVyLCBuYW1lKQogICAgICAgIHBsdC5zYXZlZmlnKGZpbGUsIGRwaT05MDAs\nIHRyYW5zcGFyZW50PVRydWUpCiAgICBmb3IgaSBpbiAoJ3N2ZycsICdwbmcn\nKToKICAgICAgICBzeXN0ZW1fbmFtZXMgPSAnXycuam9pbihzeXN0ZW1zKQog\nICAgICAgIG5hbWUgPSBmJ3tzeXN0ZW1fbmFtZXN9X3Byb2ZpbGUue2l9Jwog\nICAgICAgIGZpbGUgPSBvcy5wYXRoLmpvaW4oaW1hZ2VzX2ZvbGRlciwgbmFt\nZSkKICAgICAgICBwbHQuc2F2ZWZpZyhmaWxlLCBkcGk9OTAwLCB0cmFuc3Bh\ncmVudD1UcnVlKQogICAgIyByZXR1cm4gZmlnLCBhbGxfYXhlcywgc21zLCBw\nb3MK\n", "encoding": "base64", "_links": {"self": "https://api.github.com/repos/yoelcortes/phenomenode/contents/benchmark/profile.py?ref=master", "git": "https://api.github.com/repos/yoelcortes/phenomenode/git/blobs/1405ea02f43254b8ba8f2d53bcf0957cd63dfd11", "html": "https://github.com/yoelcortes/phenomenode/blob/master/benchmark/profile.py"}}